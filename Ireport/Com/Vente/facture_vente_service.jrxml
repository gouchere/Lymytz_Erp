<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="facture_vente_service" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="528a1d1e-7aca-4cb5-a36a-553133644c07">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
			<topPen lineWidth="0.5"/>
			<leftPen lineWidth="0.25"/>
			<bottomPen lineWidth="0.5"/>
			<rightPen lineWidth="0.25"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#EEEDED">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.25"/>
			<leftPen lineWidth="0.25"/>
			<bottomPen lineWidth="0.25"/>
			<rightPen lineWidth="0.25"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#EEEDED">
		<pen lineColor="#CCCCCC"/>
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.25"/>
			<leftPen lineWidth="0.25"/>
			<bottomPen lineWidth="0.25"/>
			<rightPen lineWidth="0.25"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.25"/>
			<leftPen lineWidth="0.25"/>
			<bottomPen lineWidth="0.25"/>
			<rightPen lineWidth="0.25"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
			<topPen lineWidth="0.5"/>
			<leftPen lineWidth="0.25"/>
			<bottomPen lineWidth="0.5"/>
			<rightPen lineWidth="0.25"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.25"/>
			<leftPen lineWidth="0.25"/>
			<bottomPen lineWidth="0.25"/>
			<rightPen lineWidth="0.25"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.25"/>
			<leftPen lineWidth="0.25"/>
			<bottomPen lineWidth="0.25"/>
			<rightPen lineWidth="0.25"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.25"/>
			<leftPen lineWidth="0.25"/>
			<bottomPen lineWidth="0.25"/>
			<rightPen lineWidth="0.25"/>
		</box>
	</style>
	<subDataset name="Dataset" uuid="16e733f4-0ca4-48e9-a235-fd79e9f15b11">
		<parameter name="ID" class="java.lang.Integer" isForPrompting="false">
			<defaultValueExpression><![CDATA[680106]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT
     yvs_base_articles."designation" AS yvs_base_articles_designation,
     yvs_base_articles."ref_art" AS yvs_base_articles_ref_art,
     yvs_com_contenu_doc_vente."quantite" AS yvs_com_contenu_doc_vente_quantite,
     yvs_com_contenu_doc_vente."commentaire" AS yvs_com_contenu_doc_vente_commentaire,
     (yvs_com_contenu_doc_vente."prix" - COALESCE(yvs_com_contenu_doc_vente."rabais", 0)) AS yvs_com_contenu_doc_vente_prix,
     yvs_com_contenu_doc_vente."prix_total" AS yvs_com_contenu_doc_vente_total,
     COALESCE((select SUM(t.montant) from yvs_com_taxe_contenu_vente t where t.contenu = yvs_com_contenu_doc_vente."id"), 0) AS yvs_com_contenu_doc_vente_taxe
FROM "public"."yvs_base_articles" yvs_base_articles
     INNER JOIN "public"."yvs_com_contenu_doc_vente" yvs_com_contenu_doc_vente ON yvs_base_articles."id" = yvs_com_contenu_doc_vente."article"
WHERE yvs_com_contenu_doc_vente."doc_vente" =  $P{ID}]]>
		</queryString>
		<field name="yvs_base_articles_designation" class="java.lang.String"/>
		<field name="yvs_base_articles_ref_art" class="java.lang.String"/>
		<field name="yvs_com_contenu_doc_vente_quantite" class="java.lang.Double"/>
		<field name="yvs_com_contenu_doc_vente_commentaire" class="java.lang.String"/>
		<field name="yvs_com_contenu_doc_vente_prix" class="java.lang.Double"/>
		<field name="yvs_com_contenu_doc_vente_total" class="java.lang.Double"/>
		<field name="yvs_com_contenu_doc_vente_taxe" class="java.lang.Double"/>
		<variable name="TOTAL" class="java.lang.Double" calculation="Sum">
			<variableExpression><![CDATA[$F{yvs_com_contenu_doc_vente_total} - $F{yvs_com_contenu_doc_vente_taxe}]]></variableExpression>
		</variable>
		<variable name="yvs_com_contenu_doc_vente_ht" class="java.lang.Double">
			<variableExpression><![CDATA[$F{yvs_com_contenu_doc_vente_total} - $F{yvs_com_contenu_doc_vente_taxe}]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="DataTaxes" uuid="044ad586-bb8e-485d-af7f-1e0cd97b2fb6">
		<parameter name="ID" class="java.lang.Integer" isForPrompting="false">
			<defaultValueExpression><![CDATA[680106]]></defaultValueExpression>
		</parameter>
		<parameter name="TAXE" class="java.lang.Boolean" isForPrompting="false">
			<defaultValueExpression><![CDATA[true]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT
     COALESCE(t."libelle_print", t."code_taxe") AS taxe_code,
     t."designation" AS taxe_libelle,
     y."montant" AS taxe_montant
FROM public.get_taxe_vente($P{ID}) y
INNER JOIN yvs_base_taxes t ON y.taxe = t.id
WHERE $P{TAXE} is true]]>
		</queryString>
		<field name="taxe_code" class="java.lang.String"/>
		<field name="taxe_libelle" class="java.lang.String"/>
		<field name="taxe_montant" class="java.lang.Double"/>
		<variable name="TOTAL" class="java.lang.Double" calculation="Sum">
			<variableExpression><![CDATA[$F{taxe_montant}]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="DatasetReglement" uuid="e6fd348a-7354-4fed-a82b-38aadd34d65a">
		<parameter name="ID" class="java.lang.Integer" isForPrompting="false">
			<defaultValueExpression><![CDATA[680106]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT
     yvs_compta_caisse_piece_vente."date_paiement" AS yvs_compta_caisse_piece_vente_date_paiement,
     yvs_compta_caisse_piece_vente."montant" AS yvs_compta_caisse_piece_vente_montant
FROM
     "public"."yvs_compta_caisse_piece_vente" yvs_compta_caisse_piece_vente
WHERE
     yvs_compta_caisse_piece_vente."vente" = $P{ID} AND yvs_compta_caisse_piece_vente."statut_piece"='P'
ORDER BY
     yvs_compta_caisse_piece_vente."date_paiement"]]>
		</queryString>
		<field name="yvs_compta_caisse_piece_vente_date_paiement" class="java.sql.Date"/>
		<field name="yvs_compta_caisse_piece_vente_montant" class="java.lang.Double"/>
		<variable name="SOMME" class="java.lang.Double" calculation="Sum">
			<variableExpression><![CDATA[$F{yvs_compta_caisse_piece_vente_montant}]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="DatasetCout" uuid="53cc4260-bdea-4569-9a6a-56c52c5f400a">
		<parameter name="ID" class="java.lang.Integer" isForPrompting="false">
			<defaultValueExpression><![CDATA[680106]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT
     yvs_com_cout_sup_doc_vente."montant" AS yvs_com_cout_sup_doc_vente_montant,
     yvs_grh_type_cout."libelle" AS yvs_grh_type_cout_libelle,
     yvs_grh_type_cout."augmentation" AS yvs_grh_type_cout_augmentation
FROM
     "public"."yvs_grh_type_cout" yvs_grh_type_cout INNER JOIN "public"."yvs_com_cout_sup_doc_vente" yvs_com_cout_sup_doc_vente ON yvs_grh_type_cout."id" = yvs_com_cout_sup_doc_vente."type_cout"
WHERE
     yvs_com_cout_sup_doc_vente."doc_vente" = $P{ID} AND  yvs_com_cout_sup_doc_vente."service" = FALSE]]>
		</queryString>
		<field name="yvs_com_cout_sup_doc_vente_montant" class="java.lang.Double"/>
		<field name="yvs_grh_type_cout_libelle" class="java.lang.String"/>
		<field name="yvs_grh_type_cout_augmentation" class="java.lang.Boolean"/>
		<variable name="TOTAL" class="java.lang.Double" calculation="Sum">
			<variableExpression><![CDATA[$F{yvs_grh_type_cout_augmentation}?$F{yvs_com_cout_sup_doc_vente_montant}:-$F{yvs_com_cout_sup_doc_vente_montant}]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="DatasetService" uuid="f4c2e0fa-e5b5-43e5-baff-ea27ffe28b61">
		<parameter name="ID" class="java.lang.Integer" isForPrompting="false">
			<defaultValueExpression><![CDATA[680106]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT
     yvs_com_cout_sup_doc_vente."montant" AS yvs_com_cout_sup_doc_vente_montant,
     yvs_grh_type_cout."libelle" AS yvs_grh_type_cout_libelle,
     yvs_grh_type_cout."augmentation" AS yvs_grh_type_cout_augmentation
FROM
     "public"."yvs_grh_type_cout" yvs_grh_type_cout INNER JOIN "public"."yvs_com_cout_sup_doc_vente" yvs_com_cout_sup_doc_vente ON yvs_grh_type_cout."id" = yvs_com_cout_sup_doc_vente."type_cout"
WHERE
     yvs_com_cout_sup_doc_vente."doc_vente" = $P{ID} AND  yvs_com_cout_sup_doc_vente."service" = TRUE]]>
		</queryString>
		<field name="yvs_com_cout_sup_doc_vente_montant" class="java.lang.Double"/>
		<field name="yvs_grh_type_cout_libelle" class="java.lang.String"/>
		<field name="yvs_grh_type_cout_augmentation" class="java.lang.Boolean"/>
		<variable name="TOTAL" class="java.lang.Double" calculation="Sum">
			<variableExpression><![CDATA[$F{yvs_grh_type_cout_augmentation}?$F{yvs_com_cout_sup_doc_vente_montant}:-$F{yvs_com_cout_sup_doc_vente_montant}]]></variableExpression>
		</variable>
	</subDataset>
	<parameter name="ID" class="java.lang.Integer" isForPrompting="false">
		<defaultValueExpression><![CDATA[680106]]></defaultValueExpression>
	</parameter>
	<parameter name="AUTEUR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["Dowes Mbella"]]></defaultValueExpression>
	</parameter>
	<parameter name="LOGO" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["D:\\Projets\\ERP\\Lymytz_Erp\\Ireport\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="TAXE" class="java.lang.Boolean">
		<defaultValueExpression><![CDATA[false]]></defaultValueExpression>
	</parameter>
	<parameter name="MONTANT" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["Sept cent quatre vingt mille"]]></defaultValueExpression>
	</parameter>
	<parameter name="IMG_PAYE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="IMG_LIVRE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="IMG_QRC" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT
     yvs_base_point_vente."code" AS yvs_base_point_vente_code,
     yvs_base_point_vente."libelle" AS yvs_base_point_vente_libelle,
     yvs_base_point_vente."agence" AS yvs_base_point_vente_agence,
     yvs_com_doc_ventes."nom_client" AS yvs_com_client_nom,
     yvs_com_doc_ventes."statut" AS yvs_com_doc_ventes_statut,
     yvs_com_doc_ventes."num_doc" AS yvs_com_doc_ventes_num_doc,
     concat(yvs_com_entete_doc_vente."date_entete", ' ',yvs_com_doc_ventes."heure_doc")::timestamp  AS yvs_com_entete_doc_vente_date_entete,
     concat(COALESCE(yvs_com_doc_ventes."date_livraison", yvs_com_entete_doc_vente."date_entete"), ' ',COALESCE(yvs_com_doc_ventes_informations."heure_debut", current_time))::timestamp AS yvs_com_doc_ventes_date_debut,
     concat(COALESCE(yvs_com_doc_ventes_informations."date_fin", COALESCE(yvs_com_doc_ventes."date_livraison", yvs_com_entete_doc_vente."date_entete")), ' ',COALESCE(yvs_com_doc_ventes_informations."heure_fin", current_time))::timestamp  AS yvs_com_doc_ventes_date_fin,
     yvs_users."nom_users" AS yvs_users_nom_users,
     yvs_users."abbreviation" AS yvs_users_abbreviation,
     yvs_base_tiers_telephone."numero" AS yvs_base_tiers_telephone_numero,
     yvs_base_tiers_telephone."principal" AS yvs_base_tiers_telephone_principal,
     public.get_ttc_vente(yvs_com_doc_ventes."id") as yvs_com_doc_ventes_ca,
     (select sum(t.montant) from public.get_taxe_vente(yvs_com_doc_ventes."id") t) as yvs_com_doc_ventes_taxe,
     (SELECT SUM(m."montant") FROM "public"."yvs_compta_caisse_piece_vente" m WHERE m."vente" = $P{ID} AND m."statut_piece"='P') AS yvs_com_doc_ventes_avance

FROM     "public"."yvs_base_point_vente" yvs_base_point_vente INNER JOIN "public"."yvs_com_creneau_point" yvs_com_creneau_point ON yvs_base_point_vente."id" = yvs_com_creneau_point."point"
     INNER JOIN "public"."yvs_com_creneau_horaire_users" yvs_com_creneau_horaire_users ON yvs_com_creneau_point."id" = yvs_com_creneau_horaire_users."creneau_point"
     INNER JOIN "public"."yvs_com_entete_doc_vente" yvs_com_entete_doc_vente ON yvs_com_creneau_horaire_users."id" = yvs_com_entete_doc_vente."creneau"
     INNER JOIN "public"."yvs_users" yvs_users ON yvs_com_creneau_horaire_users."users" = yvs_users."id"
     INNER JOIN "public"."yvs_com_doc_ventes" yvs_com_doc_ventes ON yvs_com_entete_doc_vente."id" = yvs_com_doc_ventes."entete_doc"
     LEFT JOIN "public"."yvs_com_doc_ventes_informations" yvs_com_doc_ventes_informations ON yvs_com_doc_ventes."id" = yvs_com_doc_ventes_informations."facture"
     INNER JOIN "public"."yvs_com_client" yvs_com_client ON yvs_com_doc_ventes."client" = yvs_com_client."id"
     INNER JOIN "public"."yvs_base_tiers" yvs_base_tiers ON yvs_com_client."tiers" = yvs_base_tiers."id"
     LEFT JOIN "public"."yvs_base_tiers_telephone" yvs_base_tiers_telephone ON yvs_base_tiers."id" = yvs_base_tiers_telephone."tiers"
WHERE
     yvs_com_doc_ventes."id" = $P{ID}
ORDER BY yvs_base_tiers_telephone."principal" DESC
LIMIT 1]]>
	</queryString>
	<field name="yvs_base_point_vente_code" class="java.lang.String"/>
	<field name="yvs_base_point_vente_libelle" class="java.lang.String"/>
	<field name="yvs_base_point_vente_agence" class="java.lang.Long"/>
	<field name="yvs_com_client_nom" class="java.lang.String"/>
	<field name="yvs_com_doc_ventes_statut" class="java.lang.String"/>
	<field name="yvs_com_doc_ventes_num_doc" class="java.lang.String"/>
	<field name="yvs_com_entete_doc_vente_date_entete" class="java.sql.Timestamp"/>
	<field name="yvs_com_doc_ventes_date_debut" class="java.sql.Timestamp"/>
	<field name="yvs_com_doc_ventes_date_fin" class="java.sql.Timestamp"/>
	<field name="yvs_users_nom_users" class="java.lang.String"/>
	<field name="yvs_users_abbreviation" class="java.lang.String"/>
	<field name="yvs_base_tiers_telephone_numero" class="java.lang.String"/>
	<field name="yvs_base_tiers_telephone_principal" class="java.lang.Boolean"/>
	<field name="yvs_com_doc_ventes_ca" class="java.lang.Double"/>
	<field name="yvs_com_doc_ventes_taxe" class="java.lang.Double"/>
	<field name="yvs_com_doc_ventes_avance" class="java.lang.Double"/>
	<variable name="MTANT_HT" class="java.lang.Double">
		<variableExpression><![CDATA[$F{yvs_com_doc_ventes_ca}-$F{yvs_com_doc_ventes_taxe}]]></variableExpression>
	</variable>
	<title>
		<band height="98" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="0" width="555" height="79" uuid="16227ed8-d43e-40c7-ada3-a412d4c6d357"/>
				<subreportParameter name="NAME_AUTEUR">
					<subreportParameterExpression><![CDATA[$P{AUTEUR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="LOGO">
					<subreportParameterExpression><![CDATA[$P{LOGO}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="idAgence">
					<subreportParameterExpression><![CDATA[$F{yvs_base_point_vente_agence}.intValue()]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "header_rapport.jasper"]]></subreportExpression>
			</subreport>
			<image>
				<reportElement x="512" y="37" width="42" height="42" uuid="18e63ab7-328a-4794-b9d6-3a9cf5cb8152"/>
				<imageExpression><![CDATA[$P{IMG_LIVRE}]]></imageExpression>
			</image>
			<image>
				<reportElement x="467" y="37" width="44" height="42" uuid="ae32e9ca-f653-419f-a44f-6a844b569b51"/>
				<imageExpression><![CDATA[$P{IMG_QRC}]]></imageExpression>
			</image>
			<image>
				<reportElement x="420" y="38" width="45" height="41" uuid="47f8c556-cd6a-41cf-8a32-2e239ca73578"/>
				<imageExpression><![CDATA[$P{IMG_PAYE}]]></imageExpression>
			</image>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="83" width="555" height="15" uuid="ec78604f-5b11-4698-81bb-762634b7d04d"/>
				<textElement textAlignment="Center">
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["FACTURE VENTE N° "+$F{yvs_com_doc_ventes_num_doc}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="43" splitType="Stretch">
			<staticText>
				<reportElement x="17" y="6" width="54" height="16" uuid="deb1ffde-e846-48c6-a647-3f36b815bbfb"/>
				<textElement>
					<font fontName="DejaVu Sans"/>
				</textElement>
				<text><![CDATA[Date : ]]></text>
			</staticText>
			<staticText>
				<reportElement x="307" y="8" width="42" height="16" uuid="3debf3d4-9f51-4735-a33e-c9df6cbe3b88"/>
				<textElement>
					<font fontName="DejaVu Sans"/>
				</textElement>
				<text><![CDATA[Client : ]]></text>
			</staticText>
			<textField>
				<reportElement x="349" y="8" width="204" height="16" uuid="428ca230-781b-452a-a677-1646d8e19bf3"/>
				<textElement>
					<font fontName="DejaVu Sans" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{yvs_com_client_nom}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="307" y="24" width="247" height="15" uuid="3d46f1fd-23d7-42bb-a739-1ceffb7f46aa"/>
				<textElement verticalAlignment="Middle">
					<font fontName="DejaVu Sans" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Pour la periode du "+new SimpleDateFormat("dd MMM yyyy").format($F{yvs_com_doc_ventes_date_debut}!=null?$F{yvs_com_doc_ventes_date_debut}:new Date())+
" au "+new SimpleDateFormat("dd MMM yyyy").format($F{yvs_com_doc_ventes_date_fin}!=null?$F{yvs_com_doc_ventes_date_fin}:new Date())]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy HH:mm:ss" isBlankWhenNull="true">
				<reportElement x="71" y="7" width="198" height="16" uuid="5f8692ed-b10f-46cc-9f5f-639a316ee085"/>
				<textElement>
					<font fontName="DejaVu Sans" isBold="true" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{yvs_com_entete_doc_vente_date_entete}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="314" splitType="Stretch">
			<componentElement>
				<reportElement key="table" style="table" x="0" y="0" width="555" height="57" uuid="71f926b6-fa7a-4ed6-b4a5-86a4c113affc"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="Dataset" uuid="a6830bdb-f9cc-4bc5-a2c7-a113d79e0d8a">
						<datasetParameter name="ID">
							<datasetParameterExpression><![CDATA[$P{ID}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:columnGroup width="554" uuid="e332a373-2bd7-475b-a8e2-6989f48c9486">
						<jr:columnGroup width="554" uuid="5947d0a2-0721-4319-b172-f9539bebd746">
							<jr:columnGroup width="554" uuid="c2001695-845f-471c-9f07-181ebfcf77c5">
								<jr:column width="40" uuid="a7c9d2a4-0d7f-4e99-9524-7e60269e2afd">
									<jr:columnHeader style="table_CH" height="16" rowSpan="1">
										<staticText>
											<reportElement x="0" y="0" width="40" height="16" uuid="98fe0ce7-9fd6-40b5-ac10-c488cd30a5cd"/>
											<textElement textAlignment="Center" verticalAlignment="Middle"/>
											<text><![CDATA[QTE]]></text>
										</staticText>
									</jr:columnHeader>
									<jr:columnFooter style="table_TH" height="16" rowSpan="1"/>
									<jr:detailCell style="table_TD" height="20" rowSpan="1">
										<textField pattern="#,##0.00" isBlankWhenNull="true">
											<reportElement x="0" y="0" width="40" height="20" uuid="81ce3fb4-45e9-4cee-be7a-bd7b906fa82b"/>
											<textElement textAlignment="Center" verticalAlignment="Middle">
												<font size="8"/>
											</textElement>
											<textFieldExpression><![CDATA[$F{yvs_com_contenu_doc_vente_quantite}]]></textFieldExpression>
										</textField>
									</jr:detailCell>
								</jr:column>
								<jr:column width="173" uuid="d16b9be6-6a90-4a80-98c2-1d05a1230c30">
									<jr:columnHeader style="table_CH" height="16" rowSpan="1">
										<staticText>
											<reportElement x="0" y="0" width="173" height="16" uuid="b6fca9ca-2269-4ed2-867e-dea31732e9cc"/>
											<textElement textAlignment="Center" verticalAlignment="Middle"/>
											<text><![CDATA[ARTICLE]]></text>
										</staticText>
									</jr:columnHeader>
									<jr:columnFooter style="table_TH" height="16" rowSpan="1"/>
									<jr:detailCell style="table_TD" height="20" rowSpan="1">
										<textField isStretchWithOverflow="true">
											<reportElement x="0" y="0" width="173" height="20" uuid="6898cead-ce92-449d-987c-674b8d6249d2"/>
											<box leftPadding="5"/>
											<textElement verticalAlignment="Middle">
												<font size="8"/>
											</textElement>
											<textFieldExpression><![CDATA["["+$F{yvs_base_articles_ref_art}+"] "+$F{yvs_base_articles_designation}]]></textFieldExpression>
										</textField>
									</jr:detailCell>
								</jr:column>
								<jr:column width="55" uuid="dd89039a-5580-45ae-a6d8-49678fd2e450">
									<jr:columnHeader style="table_CH" height="16" rowSpan="1">
										<staticText>
											<reportElement x="0" y="0" width="55" height="16" uuid="861fc28e-70dc-4c33-9efb-d0d7bb728f8e"/>
											<textElement textAlignment="Center" verticalAlignment="Middle"/>
											<text><![CDATA[PUV]]></text>
										</staticText>
									</jr:columnHeader>
									<jr:columnFooter style="table_TH" height="16" rowSpan="1"/>
									<jr:detailCell style="table_TD" height="20" rowSpan="1">
										<textField pattern="#,##0.00" isBlankWhenNull="true">
											<reportElement x="0" y="0" width="55" height="20" uuid="034c6cd8-f35f-49ae-990d-a777aef9e7b3"/>
											<box rightPadding="5"/>
											<textElement textAlignment="Right" verticalAlignment="Middle">
												<font size="8"/>
											</textElement>
											<textFieldExpression><![CDATA[$F{yvs_com_contenu_doc_vente_prix}]]></textFieldExpression>
										</textField>
									</jr:detailCell>
								</jr:column>
								<jr:columnGroup width="215" uuid="0b73d3ed-43dc-4cca-83f9-7f57e2b607bb">
									<jr:column width="215" uuid="4914f67c-dbcd-42de-b9c3-63f66b4ee65a">
										<jr:columnHeader style="table_CH" height="16" rowSpan="1">
											<staticText>
												<reportElement x="0" y="0" width="215" height="16" uuid="0137f611-b4cc-4fbd-8a6b-00a8e6b35e9c"/>
												<textElement textAlignment="Center" verticalAlignment="Middle"/>
												<text><![CDATA[COMMENTAIRE]]></text>
											</staticText>
										</jr:columnHeader>
										<jr:columnFooter style="table_TH" height="16" rowSpan="1"/>
										<jr:detailCell height="20" rowSpan="1">
											<textField isStretchWithOverflow="true" isBlankWhenNull="true">
												<reportElement x="0" y="0" width="215" height="20" uuid="51960080-7881-4621-abd9-cc97c263a593"/>
												<box leftPadding="5"/>
												<textElement verticalAlignment="Middle">
													<font size="8"/>
												</textElement>
												<textFieldExpression><![CDATA[$F{yvs_com_contenu_doc_vente_commentaire}]]></textFieldExpression>
											</textField>
										</jr:detailCell>
									</jr:column>
								</jr:columnGroup>
								<jr:column width="71" uuid="528db997-7231-40de-95cc-416c2d52ca56">
									<jr:columnHeader style="table_CH" height="16" rowSpan="1">
										<staticText>
											<reportElement x="0" y="0" width="70" height="16" uuid="be2b9e81-8074-451e-a649-6c6bfe3dbb6f"/>
											<textElement textAlignment="Center" verticalAlignment="Middle"/>
											<text><![CDATA[PRIX TOTAL]]></text>
										</staticText>
									</jr:columnHeader>
									<jr:columnFooter style="table_TH" height="16" rowSpan="1">
										<textField pattern="#,##0.00" isBlankWhenNull="true">
											<reportElement x="0" y="0" width="70" height="16" uuid="0d6b73c6-9f03-43b7-a84a-feb650058381"/>
											<box rightPadding="5"/>
											<textElement textAlignment="Right" verticalAlignment="Middle">
												<font size="8" isBold="true"/>
											</textElement>
											<textFieldExpression><![CDATA[$V{TOTAL}]]></textFieldExpression>
										</textField>
									</jr:columnFooter>
									<jr:detailCell style="table_TD" height="20" rowSpan="1">
										<textField pattern="#,##0.00" isBlankWhenNull="true">
											<reportElement x="0" y="0" width="70" height="20" uuid="e1cc36dc-5357-46da-8763-a08ce823baad"/>
											<box rightPadding="5"/>
											<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None">
												<font size="8"/>
											</textElement>
											<textFieldExpression><![CDATA[$V{yvs_com_contenu_doc_vente_ht}]]></textFieldExpression>
										</textField>
									</jr:detailCell>
								</jr:column>
							</jr:columnGroup>
						</jr:columnGroup>
					</jr:columnGroup>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 1" positionType="Float" x="183" y="57" width="375" height="0" uuid="3d719413-39a1-47e3-a9be-8af769bf38a5"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="DataTaxes" uuid="2144ee5b-fd18-45e5-822c-85539f4e488b">
						<datasetParameter name="ID">
							<datasetParameterExpression><![CDATA[$P{ID}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="TAXE">
							<datasetParameterExpression><![CDATA[$P{TAXE}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:columnGroup width="371" uuid="30a451b7-a6ff-4e28-88ce-8d946d61ba03">
						<jr:columnHeader style="table_CH" height="15" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="162" height="15" uuid="2fc6114e-b951-4c36-a989-52ee3295eaf4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Taxes]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:column width="269" uuid="abcca1af-2d6e-42c5-b2ce-20e251bdb77a">
							<jr:columnFooter style="table_TH" height="15" rowSpan="1"/>
							<jr:detailCell style="table_TD" height="15" rowSpan="1">
								<textField>
									<reportElement style="table_TD" x="0" y="0" width="269" height="15" uuid="66761de2-b321-4405-9f44-36b0499dea9e"/>
									<box leftPadding="5"/>
									<textElement verticalAlignment="Middle">
										<font size="8"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{taxe_code}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="102" uuid="f3078e33-8339-4c47-8722-0d35baec8f29">
							<jr:columnFooter style="table_TH" height="15" rowSpan="1">
								<textField pattern="#,##0.00" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="102" height="15" uuid="c69ac388-82cd-4778-a603-4fa48ead3f75"/>
									<box rightPadding="5"/>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font size="8" isBold="false"/>
									</textElement>
									<textFieldExpression><![CDATA[$V{TOTAL}]]></textFieldExpression>
								</textField>
							</jr:columnFooter>
							<jr:detailCell style="table_TD" height="15" rowSpan="1">
								<textField pattern="#,##0.00" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="102" height="15" uuid="8c360687-d7e5-4ac6-a190-98ba6a468f6e"/>
									<box rightPadding="5"/>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font size="8" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{taxe_montant}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
					</jr:columnGroup>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 2" positionType="Float" x="183" y="59" width="375" height="0" uuid="c7299bb6-0010-4379-bf04-8bd0ac4d96a2"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="DatasetCout" uuid="24b38af5-5c04-4cf0-a4cf-e4250faceb89">
						<datasetParameter name="ID">
							<datasetParameterExpression><![CDATA[$P{ID}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:columnGroup width="371" uuid="16a8e1c7-9874-4041-b872-9a84745d5eed">
						<jr:columnHeader style="table_CH" height="15" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="162" height="15" uuid="17dc0566-fdf4-45aa-a5a6-836e8419c08c"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Coûts Supplementaires]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:column width="269" uuid="d7e253b6-cf98-40df-aaed-5f99ad7ee58d">
							<jr:tableFooter style="table_TH" height="16" rowSpan="1"/>
							<jr:detailCell style="table_TD" height="16" rowSpan="1">
								<textField>
									<reportElement x="0" y="0" width="269" height="15" uuid="e793fac7-136a-4e9f-b1c8-115e3709adb0"/>
									<box leftPadding="5"/>
									<textElement verticalAlignment="Middle">
										<font size="8"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{yvs_grh_type_cout_libelle}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="102" uuid="b8c90136-892d-4c95-8790-f13414505c6f">
							<jr:tableFooter style="table_TH" height="16" rowSpan="1">
								<textField pattern="#,##0" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="102" height="16" uuid="5f67ca1b-57f3-4b0c-b222-3c6df7187f50"/>
									<box rightPadding="5"/>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font size="8" isBold="false"/>
									</textElement>
									<textFieldExpression><![CDATA[$V{TOTAL}]]></textFieldExpression>
								</textField>
							</jr:tableFooter>
							<jr:detailCell style="table_TD" height="16" rowSpan="1">
								<textField pattern="#,##0" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="102" height="15" uuid="dfcb9bc3-f346-4c77-bbea-09042a81979e"/>
									<box rightPadding="5"/>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font size="8" isBold="false"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{yvs_grh_type_cout_augmentation}?$F{yvs_com_cout_sup_doc_vente_montant}:-$F{yvs_com_cout_sup_doc_vente_montant}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
					</jr:columnGroup>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 2" positionType="Float" x="183" y="59" width="375" height="0" uuid="036cbc98-056d-4921-a57f-a1cef85dacb7"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="DatasetService" uuid="d76ee8cb-ce29-4ffb-bb1e-eca8ff136fcc">
						<datasetParameter name="ID">
							<datasetParameterExpression><![CDATA[$P{ID}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:columnGroup width="371" uuid="8e3fba7f-d684-4000-90b4-a9cbed818b39">
						<jr:columnHeader style="table_CH" height="15" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="162" height="15" uuid="29c9b1b3-3230-4d57-b261-dc0a96f6f3fb"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Services]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:column width="269" uuid="794db4e2-af34-4401-a715-281f16704fac">
							<jr:tableFooter style="table_TH" height="16" rowSpan="1"/>
							<jr:detailCell style="table_TD" height="16" rowSpan="1">
								<textField>
									<reportElement x="0" y="0" width="269" height="15" uuid="aa3c2efd-003c-460a-9b75-472d4337df17"/>
									<box leftPadding="5"/>
									<textElement verticalAlignment="Middle">
										<font size="8"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{yvs_grh_type_cout_libelle}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="102" uuid="56c375b0-e968-428b-9226-f4ac271196cc">
							<jr:tableFooter style="table_TH" height="16" rowSpan="1">
								<textField pattern="#,##0" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="102" height="16" uuid="f80f6494-f5b9-4a91-abde-f0a97d4971ab"/>
									<box rightPadding="5"/>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font size="8" isBold="false"/>
									</textElement>
									<textFieldExpression><![CDATA[$V{TOTAL}]]></textFieldExpression>
								</textField>
							</jr:tableFooter>
							<jr:detailCell style="table_TD" height="16" rowSpan="1">
								<textField pattern="#,##0" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="102" height="15" uuid="35098584-e4ef-4f3c-82d5-5cff47c605d3"/>
									<box rightPadding="5"/>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font size="8" isBold="false"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{yvs_grh_type_cout_augmentation}?$F{yvs_com_cout_sup_doc_vente_montant}:-$F{yvs_com_cout_sup_doc_vente_montant}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
					</jr:columnGroup>
				</jr:table>
			</componentElement>
			<staticText>
				<reportElement positionType="Float" x="414" y="89" width="100" height="16" uuid="989b880b-2881-4df8-b78d-8d0863d8a497"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" isItalic="true"/>
				</textElement>
				<text><![CDATA[Signature Client]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="3" y="89" width="336" height="32" uuid="1a9d96ef-0ee3-49f1-ac92-5c8610b02be3"/>
				<textElement>
					<font fontName="DejaVu Sans" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{MONTANT}]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement positionType="Float" x="0" y="62" width="554" height="20" backcolor="#D7D7D7" uuid="7f562762-e11a-452c-8c7e-d58b919a7a3d"/>
			</rectangle>
			<textField pattern="#,##0" isBlankWhenNull="true">
				<reportElement positionType="Float" x="458" y="62" width="97" height="20" uuid="19c5e477-dcdb-4438-8ab5-a66882603937"/>
				<box rightPadding="5"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{yvs_com_doc_ventes_ca}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="370" y="62" width="84" height="20" uuid="0fccae72-7d47-4815-ba9b-828c00baddaa"/>
				<textElement verticalAlignment="Middle">
					<font fontName="DejaVu Sans"/>
				</textElement>
				<text><![CDATA[NET A PAYER :]]></text>
			</staticText>
			<componentElement>
				<reportElement key="table 1" positionType="Float" x="370" y="119" width="185" height="0" uuid="913ea8e1-50a7-4c6b-a0b1-73c577be4d90"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="DatasetReglement" uuid="4e5b8c2b-6401-4ebc-ad8c-1cff64101ab7">
						<datasetParameter name="ID">
							<datasetParameterExpression><![CDATA[$P{ID}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:columnGroup width="184" uuid="871ff01d-8c3d-42a2-b422-1d400a84c232">
						<jr:tableHeader height="16" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="184" height="15" backcolor="#DADADA" uuid="90048426-ed54-49ef-a300-0ec0682e0977"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Réglements]]></text>
							</staticText>
						</jr:tableHeader>
						<jr:column width="90" uuid="9036c3a2-d2a6-4f83-a334-f1b75cf75b33">
							<jr:detailCell height="15" rowSpan="1">
								<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="90" height="15" uuid="fbd4cc1c-9fe4-40b4-9488-191d8985c749"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="DejaVu Sans" size="9"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{yvs_compta_caisse_piece_vente_date_paiement}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="94" uuid="0d05e6a9-6745-4fbe-915b-1b96acc3f30a">
							<jr:tableFooter height="15" rowSpan="1">
								<textField pattern="#,##0" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="94" height="15" uuid="5bd42ce9-6b35-4440-b077-050f10e986a7"/>
									<box rightPadding="5"/>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font fontName="DejaVu Sans" size="9" isBold="false"/>
									</textElement>
									<textFieldExpression><![CDATA[$V{SOMME}]]></textFieldExpression>
								</textField>
							</jr:tableFooter>
							<jr:detailCell height="15" rowSpan="1">
								<textField pattern="#,##0" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="94" height="15" uuid="ad5318c4-6445-4ace-ac34-725ce085c922"/>
									<box rightPadding="5"/>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font fontName="DejaVu Sans" size="9"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{yvs_compta_caisse_piece_vente_montant}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
					</jr:columnGroup>
				</jr:table>
			</componentElement>
			<textField pattern="#,##0" isBlankWhenNull="true">
				<reportElement positionType="Float" x="458" y="124" width="96" height="20" uuid="ced36a6c-8c99-4803-b5b5-e01b4a1b347f"/>
				<box rightPadding="5"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{yvs_com_doc_ventes_avance}>0.0?($F{yvs_com_doc_ventes_ca} - $F{yvs_com_doc_ventes_avance}):null]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0" isBlankWhenNull="true">
				<reportElement positionType="Float" x="373" y="124" width="87" height="20" uuid="c62767b4-bc4f-4621-82c3-d513f4b3a649"/>
				<box rightPadding="5"/>
				<textElement verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{yvs_com_doc_ventes_avance}>0.0?"RESTE A PAYER":""]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
