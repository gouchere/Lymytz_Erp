<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="./../../../WEB-INF/template/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" 
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <ui:define name="breadcumb">
        #{navigations.naviguationApps('Paramétrage général','modGescom', 'smenParamCom', true)}
    </ui:define> 
    <ui:define name="contents">
        #{Marticle.doNothing()}

        #{managedParametre.loadAll()}
        #{managedTypeCout.loadAll(constantes.MOD_COM)}
        #{managedCategorieFsseur.loadAll()}
        #{managedCritereLot.loadAll()}
        #{managedLotReception.loadAll(true, true)}
        #{managedCatCompt.loadAll()}
        #{managedQualite.loadAll()}
        #{managedCategorieFsseur.loadAll()}
        #{managedModeReglement.loadAllModel()}
        #{managedModeReglement.loadAllMode()}
        #{managedCompte.loadAllActif(true)}
        #{managedPeriodeObjectif.loadAllPeriodeObjectif(true)}
        <script type="text/javascript">
            $(function() {
//                $('body').find('.part_scroll').height($('body').height() - $('body').find('.part_fix').height() - 180);
                $('body').find('.part_scroll').height($('body').height() - $('body').find('#top').height() - $('body').find('.zone_find').height() - $('body').find('.part_fix').height() - $('body').find('#bottom').height() - 30);
                collapseForm('tranche_model_reglement');
                collapseForm('categorie_fournisseur');
                collapseForm('categorie_comptable');
                collapseForm('model_reglement');
                collapseForm('mode_reglement');
                collapseForm('lot_reception');
                collapseForm('type_cout_com');
                collapseForm('critere_lot');
                collapseForm('qualite');

                collapseForm('param_achat');
                collapseForm('param_vente');
                collapseForm('param_stock');
                collapseForm('parametre');

                verifyDefaultModeEspece();
            });
        </script>
        <h:form prependId="false">
            <p:remoteCommand name="verifyDefaultModeEspece" actionListener="#{managedModeReglement.verifyDefaultModeEspece()}"/>
        </h:form>
        <h:form prependId="false">
            #{managedPrintHeader.loadAll()}
            #{managedPrintFooter.loadAll()}
            <p:dialog header="Définir un modèle de facture de vente" widgetVar="dlgPrintFactureVente" modal="true" width="90%" closeOnEscape="true"> 
                <p:outputPanel id="blog-print_facture_vente">      
                    <h:inputHidden id="model-fv" value="#{managedPrintFactureVente.model}"/>
                    <div style="float: left;width: 49.5%">
                        <h:panelGrid id="form-print_facture_vente" columns="2" style="width: 100%" styleClass="yvs_table">
                            <f:facet name="header">
                                <h:panelGrid columns="5" styleClass="yvs_nostyle" cellpadding="0" cellspacing="0">
                                    <h:outputText value="Libelle"/>
                                    <h:outputText value="Entête"/>
                                    <h:outputText value="Pied de page"/>
                                    <h:outputText value=""/>
                                    <h:outputText value=""/>
                                    <h:inputText value="#{managedPrintFactureVente.bean.nom}" style="width: 200px"/> 
                                    <h:selectOneMenu value="#{managedPrintFactureVente.bean.header.id}" style="width: 150px">
                                        <f:selectItem itemLabel="--" itemValue="0"/>
                                        <f:selectItems value="#{managedPrintHeader.list}" var="mHead" itemLabel="#{mHead.nom} (#{mHead.model})" itemValue="#{mHead.id}" />  
                                        <p:ajax event="valueChange" global="false" listener="#{managedPrintFactureVente.chooseHeader()}"/>
                                    </h:selectOneMenu> 
                                    <h:selectOneMenu value="#{managedPrintFactureVente.bean.footer.id}" style="width: 150px">
                                        <f:selectItem itemLabel="--" itemValue="0"/>
                                        <f:selectItems value="#{managedPrintFooter.list}" var="mFoot" itemLabel="#{mFoot.nom} (#{mFoot.model})" itemValue="#{mFoot.id}" />  
                                        <p:ajax event="valueChange" global="false" listener="#{managedPrintFactureVente.chooseFooter()}"/>
                                    </h:selectOneMenu> 
                                    <p:selectBooleanCheckbox itemLabel="Défaut" value="#{managedPrintFactureVente.bean.defaut}"/>
                                    <p:splitButton value="#{lab.L_enregistrer}" actionListener="#{managedPrintFactureVente.saveNew()}" icon="ui-icon-disk" style="margin-top: -5px;margin-left: 5px">
                                        <p:menuitem value="#{lab.L_nouveau}" actionListener="#{managedPrintFactureVente.resetFiche()}" icon="ui-icon-document" />   
                                        <p:separator/>
                                        <p:menuitem  value="#{lab.L_supprimer}" onclick="dlgConfirmDeletePrintFactureVente.show()" icon="ui-icon-trash"/>    
                                    </p:splitButton>
                                </h:panelGrid>
                            </f:facet>
                            <p:selectBooleanCheckbox widgetVar="viewDateFacture" itemLabel="Afficher la date de la vente" value="#{managedPrintFactureVente.bean.viewDateFacture}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewNumeroFacture" itemLabel="Afficher le numéro de la facture" value="#{managedPrintFactureVente.bean.viewNumeroFacture}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewNameVendeur" itemLabel="Afficher le nom du vendeur" value="#{managedPrintFactureVente.bean.viewNameVendeur}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewPointVente" itemLabel="Afficher le libelle du point de vente" value="#{managedPrintFactureVente.bean.viewPointVente}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewNameClient" itemLabel="Afficher le nom du client" value="#{managedPrintFactureVente.bean.viewNameClient}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewPhoneClient" itemLabel="Afficher le telephone du client" value="#{managedPrintFactureVente.bean.viewPhoneClient}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewNuiClient" itemLabel="Afficher le N.U.I du client" value="#{managedPrintFactureVente.bean.viewNuiClient}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewRccClient" itemLabel="Afficher le R.C.C du client" value="#{managedPrintFactureVente.bean.viewRccClient}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewAdresseClient" itemLabel="Afficher l'adresse du client" value="#{managedPrintFactureVente.bean.viewAdresseClient}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v2'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewStatutFacture" itemLabel="Afficher le statut de la facture" value="#{managedPrintFactureVente.bean.viewStatutFacture}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewTaxeFacture" itemLabel="Afficher les informations sur les taxes" value="#{managedPrintFactureVente.bean.viewTaxeFacture}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewCoutFacture" itemLabel="Afficher les differents couts supplementaires" value="#{managedPrintFactureVente.bean.viewCoutFacture}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox> 
                            <p:selectBooleanCheckbox widgetVar="viewServiceFacture" itemLabel="Afficher les services associés" value="#{managedPrintFactureVente.bean.viewServiceFacture}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewReglementFacture" itemLabel="Afficher les versements du client" value="#{managedPrintFactureVente.bean.viewReglementFacture}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewSignatureVendeur" itemLabel="Afficher la signature du vendeur" value="#{managedPrintFactureVente.bean.viewSignatureVendeur}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewSignatureCaissier" itemLabel="Afficher la signature du caissier" value="#{managedPrintFactureVente.bean.viewSignatureCaissier}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewSignatureClient" itemLabel="Afficher la signature du client" value="#{managedPrintFactureVente.bean.viewSignatureClient}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewImagePayer" itemLabel="Afficher la mention payée" value="#{managedPrintFactureVente.bean.viewImagePayer}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewImageLivrer" itemLabel="Afficher la mention livrée" value="#{managedPrintFactureVente.bean.viewImageLivrer}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewImpayeVente" itemLabel="Afficher les impayés du client" value="#{managedPrintFactureVente.bean.viewImpayeVente}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v2'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewPenaliteFacture" itemLabel="Afficher les pénalités de retard" value="#{managedPrintFactureVente.bean.viewPenaliteFacture}" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v2'}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                        </h:panelGrid>
                    </div>
                    <div style="margin-left:50.5%;width: 49.5%">
                        <p:outputPanel autoUpdate="true" style="font-size: 0.8em">
                            <div align="center">     
                                <div align="left" style="width: 750px; border: 1px solid black;padding: 20px">
                                    <h:panelGroup rendered="#{managedPrintFactureVente.bean.header.id gt 0}">
                                        <f:subview id="header_v1" rendered="#{managedPrintFactureVente.bean.header.model eq 'header_v1'}">
                                            <ui:include src="../../param_general/header/header_v1.xhtml"/>                                            
                                        </f:subview>
                                        <f:subview id="header_v2" rendered="#{managedPrintFactureVente.bean.header.model eq 'header_v2'}">
                                            <ui:include src="../../param_general/header/header_v2.xhtml"/>                                            
                                        </f:subview>
                                    </h:panelGroup> 
                                    <f:subview id="facture_vente_v1" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v1'}">
                                        <ui:include src="../../param_general/vente/facture_vente_v1.xhtml"/>                                            
                                    </f:subview>
                                    <f:subview id="facture_vente_v2" rendered="#{managedPrintFactureVente.model eq 'facture_vente_v2'}">
                                        <ui:include src="../../param_general/vente/facture_vente_v2.xhtml"/>                                            
                                    </f:subview>
                                    <h:panelGroup rendered="#{managedPrintFactureVente.bean.footer.id gt 0}">
                                        <f:subview id="footer_v1" rendered="#{managedPrintFactureVente.bean.footer.model eq 'footer_v1'}">
                                            <ui:include src="../../param_general/footer/footer_v1.xhtml"/>                                            
                                        </f:subview>
                                        <f:subview id="footer_v2" rendered="#{managedPrintFactureVente.bean.footer.model eq 'footer_v2'}">
                                            <ui:include src="../../param_general/footer/footer_v2.xhtml"/>                                            
                                        </f:subview>
                                    </h:panelGroup> 
                                </div>
                            </div>
                        </p:outputPanel>
                    </div>
                    <p:dataTable id="data-print_facture_vente" value="#{managedPrintFactureVente.list}" var="prt" rowKey="#{prt.id}" rowIndexVar="idx" selectionMode="single">
                        <p:ajax event="rowSelect" listener="#{managedPrintFactureVente.loadOnView}"/>
                        <p:ajax event="rowUnselect" listener="#{managedPrintFactureVente.unLoadOnView}"/>
                        <p:column headerText="N°" width="20">
                            #{idx+1}
                            <h:graphicImage library="img" name="pointe.png" width="17" height="15" rendered="#{prt.id eq managedPrintFactureVente.bean.id}"/>
                        </p:column>                                
                        <p:column headerText="#{lab.L_libelle}" width="100">
                            <h:outputText value="#{prt.nom}"/>
                        </p:column>
                        <p:column headerText="Date vente" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewDateFacture)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Numero" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewNumeroFacture)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Taxe" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewTaxeFacture)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Vendeur" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewNameVendeur)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Point vente" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewPointVente)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Client" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewNameClient)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Sig. Vend" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewSignatureVendeur)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Sig. Cai" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewSignatureCaissier)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Sig. Clt" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewSignatureClient)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Défaut" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.defaut)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column width="20" style="text-align: center">
                            <p:contextMenu for="option-print_facture_vente" event="left click" style="font-size: 0.8em" styleClass="context_menu">
                                <p:menuitem value="#{prt.defaut?'Retirer defaut':'Definir défaut'}" icon="ui-icon-check" actionListener="#{managedPrintFactureVente.changeDefaut(prt)}"/>
                                <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" actionListener="#{managedPrintFactureVente.deleteBean(prt, false)}" oncomplete="dlgConfirmDeletePrintFactureVente.show()"/>
                            </p:contextMenu>                           
                            <p:commandButton icon="ui-icon-gear" style="width: 22px; height: 22px" id="option-print_facture_vente" type="button"/>  
                        </p:column> 
                    </p:dataTable> 
                    <p:outputPanel autoUpdate="true">
                        <div align="right" style="font-size: 0.8em;padding: 5px">
                            <span style="float: left">#{lab.L_enregistrer_le} <h:outputText value="#{managedPrintFactureVente.entity.dateSave}" converter="LD" style="font-weight: bold"/></span> 
                            <span>#{lab.L_modifier_le}<h:outputText value="#{managedPrintFactureVente.entity.dateUpdate}" converter="LD" styleClass="valeur" style="font-weight: bold"/></span>
                            <span>#{lab.L_par} <h:outputText value="#{managedPrintFactureVente.entity.author.users.nomUsers}"  styleClass="valeur" style="font-weight: bold"/></span>
                        </div>
                    </p:outputPanel>
                </p:outputPanel>
                <f:facet name="footer" class="yvs-dialog-footer">
                    #{lab.L_copy}
                </f:facet> 
            </p:dialog>
        </h:form>

        <!-->
        *************************************BeanCaisse****************************************
        Boite de dialogue des articles
        *****************************************************************************
        <-->  
        <h:form prependId="false">
            <p:dialog header="#{lab.L_liste_article}" widgetVar="dlgListArticle" modal="true" width="50%"  closeOnEscape="true"> 
                <p:watermark for="txt_search_article_so_stock" value="#{lab.L_reference_article}..." />
                <h:panelGrid columns="2" style="width: 100%; font-size: 0.8em" styleClass="yvs_nostyle" cellpadding="0" cellspacing="0">
                    <h:inputText id="txt_search_article_so_stock" value="#{Marticle.searchArticle}">
                        <p:ajax event="valueChange" global="false" listener="#{Marticle.findArticle()}" update="data_articles_param_com"/>
                    </h:inputText> 
                    <p:outputPanel autoUpdate="true" style="float: right" layout="block">
                        <p:commandButton actionListener="#{Marticle.loadAllArticle(false,false)}" global="false" update="data_articles_param_com" icon="ui-icon-circle-triangle-w" disabled="#{Marticle.paginator.disPrev}"/>
                        <p:outputPanel ><p:outputLabel value="#{Marticle.paginator.currentPage}/#{Marticle.paginator.nbPage}" style="margin-top: 15px; font-size: 0.8em; font-weight: bold" /></p:outputPanel>
                        <p:commandButton actionListener="#{Marticle.loadAllArticle(true,false)}" global="false" update="data_articles_param_com" icon="ui-icon-circle-triangle-e" disabled="#{Marticle.paginator.disNext}"/>
                        <p:selectOneMenu value="#{Marticle.imax}" label="#{lab.L_nombre_max_resultat}" valueChangeListener="#{Marticle.choosePaginator}" style="float: right; font-size: 0.9em;margin-top: 3px;min-width: 50px">
                            <f:selectItems value="#{Marticle.paginations}"/>
                            <p:ajax event="valueChange" global="false" update="data_articles_param_com"/>
                        </p:selectOneMenu>
                    </p:outputPanel>
                </h:panelGrid>
                <p:dataTable id="data_articles_param_com" value="#{Marticle.listArticle}" var="art" rowKey="#{art.id}"
                             selectionMode="single" paginator="true" rows="20" paginatorAlwaysVisible="false" >
                    <p:ajax event="rowSelect" global="false" listener="#{managedParametre.loadOnViewArticle}" oncomplete="dlgListArticle.hide()"/>
                    <p:column style="width: 2%">
                        <span title="#{art.designation}">#{art.refArt}</span>
                    </p:column>
                    <p:column headerText="#{lab.L_designation}" style="width: 6%">
                        <span title="#{art.designation}">#{art.designation}</span>
                    </p:column>
                    <p:column headerText="#{lab.L_categorie}" style="width: 4%">
                        <span title="#{art.designation}">#{art.categorie}</span>
                    </p:column>
                </p:dataTable>
                <f:facet name="footer" class="yvs-dialog-footer">
                    #{lab.L_copy}
                </f:facet> 
            </p:dialog>
        </h:form>
        <h:form prependId="false">
            <p:dialog header="Définir un modèle de ticket de vente" widgetVar="dlgPrintTicketVente" modal="true" width="90%" closeOnEscape="true"> 
                <p:outputPanel id="blog-print_ticket_vente">      
                    <h:inputHidden id="model-tv" value="#{managedPrintTicketVente.model}"/>
                    <div style="float: left;width: 60%">
                        <h:panelGrid id="form-print_ticket_vente" columns="2" style="width: 100%" styleClass="yvs_table">
                            <f:facet name="header">
                                <h:panelGrid columns="3" styleClass="yvs_nostyle" cellpadding="0" cellspacing="0">
                                    <h:outputText value="Libelle"/>
                                    <h:outputText value=""/>
                                    <h:outputText value=""/>
                                    <h:inputText value="#{managedPrintTicketVente.bean.nom}" style="width: 200px"/> 
                                    <p:selectBooleanCheckbox itemLabel="Défaut" value="#{managedPrintTicketVente.bean.defaut}"/>
                                    <p:splitButton value="#{lab.L_enregistrer}" actionListener="#{managedPrintTicketVente.saveNew()}" icon="ui-icon-disk" style="margin-top: -5px;margin-left: 5px">
                                        <p:menuitem value="#{lab.L_nouveau}" actionListener="#{managedPrintTicketVente.resetFiche()}" icon="ui-icon-document" />   
                                        <p:separator/>
                                        <p:menuitem  value="#{lab.L_supprimer}" onclick="dlgConfirmDeletePrintTicketVente.show()" icon="ui-icon-trash"/>    
                                    </p:splitButton>
                                </h:panelGrid>
                            </f:facet>
                            <p:selectBooleanCheckbox widgetVar="viewNameSociete" itemLabel="Afficher le nom de la sociète" value="#{managedPrintTicketVente.bean.viewNameSociete}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewRccSociete" itemLabel="Afficher le numéro de registre de la socièté" value="#{managedPrintTicketVente.bean.viewRccSociete}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewNuiSociete" itemLabel="Afficher le numéro de contibuable de la socièté" value="#{managedPrintTicketVente.bean.viewNuiSociete}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewPhoneSociete" itemLabel="Afficher le téléphone de la socièté" value="#{managedPrintTicketVente.bean.viewPhoneSociete}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewAdresseSociete" itemLabel="Afficher l'adresse de la socièté" value="#{managedPrintTicketVente.bean.viewAdresseSociete}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewDateFacture" itemLabel="Afficher la date de facturation" value="#{managedPrintTicketVente.bean.viewDateFacture}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewNumeroFacture" itemLabel="Afficher le numéro de la facture" value="#{managedPrintTicketVente.bean.viewNumeroFacture}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewNameVendeur" itemLabel="Afficher le nom du vendeur" value="#{managedPrintTicketVente.bean.viewNameVendeur}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewNameClient" itemLabel="Afficher le nom du client" value="#{managedPrintTicketVente.bean.viewNameClient}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewPhoneClient" itemLabel="Afficher le téléphone du client" value="#{managedPrintTicketVente.bean.viewPhoneClient}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewStatutReglerFacture" itemLabel="Afficher le statut de reglement de la facture" value="#{managedPrintTicketVente.bean.viewStatutReglerFacture}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox>
                            <p:selectBooleanCheckbox widgetVar="viewImageQrFacture" itemLabel="Afficher le code QR de la facture" value="#{managedPrintTicketVente.bean.viewImageQrFacture}">
                                <p:ajax event="valueChange"/>
                            </p:selectBooleanCheckbox> 
                        </h:panelGrid>
                    </div>
                    <div style="margin-left:60.5%;width: 39.5%">
                        <p:outputPanel autoUpdate="true" style="font-size: 0.8em">
                            <div align="center">     
                                <div align="left" style="width: 350px; border: 1px solid black;padding: 20px">
                                    <f:subview id="ticket_vente_v1" rendered="#{managedPrintTicketVente.model eq 'ticket_vente_v1'}">
                                        <ui:include src="../../param_general/vente/ticket_vente_v1.xhtml"/>                                            
                                    </f:subview>
                                    <f:subview id="ticket_vente_v2" rendered="#{managedPrintTicketVente.model eq 'ticket_vente_v2'}">
                                        <ui:include src="../../param_general/vente/ticket_vente_v2.xhtml"/>                                            
                                    </f:subview>
                                </div>
                            </div>
                        </p:outputPanel>
                    </div>
                    <p:dataTable id="data-print_ticket_vente" value="#{managedPrintTicketVente.list}" var="prt" rowKey="#{prt.id}" rowIndexVar="idx" selectionMode="single">
                        <p:ajax event="rowSelect" listener="#{managedPrintTicketVente.loadOnView}"/>
                        <p:ajax event="rowUnselect" listener="#{managedPrintTicketVente.unLoadOnView}"/>
                        <p:column headerText="N°" width="20">
                            #{idx+1}
                            <h:graphicImage library="img" name="pointe.png" width="17" height="15" rendered="#{prt.id eq managedPrintTicketVente.bean.id}"/>
                        </p:column>                                
                        <p:column headerText="#{lab.L_libelle}" width="100">
                            <h:outputText value="#{prt.nom}"/>
                        </p:column>
                        <p:column headerText="Socièté" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewNameSociete)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="R.C.C" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewRccSociete)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Date vente" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewDateFacture)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Numero" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewNumeroFacture)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Vendeur" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewNameVendeur)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Client" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewNameClient)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Phone Clt." style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewPhoneClient)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Regler" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewStatutReglerFacture)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Code QR" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.viewImageQrFacture)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column headerText="Défaut" style="text-align: center">
                            <h:graphicImage library="img" name="#{(prt.defaut)?'vu.png':'erase-128.png'}" width="10" height="10"/>
                        </p:column>
                        <p:column width="20" style="text-align: center">
                            <p:contextMenu for="option-print_ticket_vente" event="left click" style="font-size: 0.8em" styleClass="context_menu">
                                <p:menuitem value="#{prt.defaut?'Retirer defaut':'Definir défaut'}" icon="ui-icon-check" actionListener="#{managedPrintTicketVente.changeDefaut(prt)}"/>
                                <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" actionListener="#{managedPrintTicketVente.deleteBean(prt, false)}" oncomplete="dlgConfirmDeletePrintTicketVente.show()"/>
                            </p:contextMenu>                           
                            <p:commandButton icon="ui-icon-gear" style="width: 22px; height: 22px" id="option-print_ticket_vente" type="button"/>  
                        </p:column> 
                    </p:dataTable> 
                    <p:outputPanel autoUpdate="true">
                        <div align="right" style="font-size: 0.8em;padding: 5px">
                            <span style="float: left">#{lab.L_enregistrer_le} <h:outputText value="#{managedPrintTicketVente.entity.dateSave}" converter="LD" style="font-weight: bold"/></span> 
                            <span>#{lab.L_modifier_le}<h:outputText value="#{managedPrintTicketVente.entity.dateUpdate}" converter="LD" styleClass="valeur" style="font-weight: bold"/></span>
                            <span>#{lab.L_par} <h:outputText value="#{managedPrintTicketVente.entity.author.users.nomUsers}"  styleClass="valeur" style="font-weight: bold"/></span>
                        </div>
                    </p:outputPanel>
                </p:outputPanel>
                <f:facet name="footer" class="yvs-dialog-footer">
                    #{lab.L_copy}
                </f:facet> 
            </p:dialog>
        </h:form>
        <h:form prependId="false" id="main-model_fv">
            <p:dialog header="#{lab.LC_PPG_description_model_facture}" widgetVar="dlgModelFactureVente" modal="true" closeOnEscape="true" footer="&copy;Lymytz 2014"> 
                <h:panelGrid id="blog-view_model_fv" columns="1" style="width: 100%" styleClass="yvs_nostyle" cellpadding="0" cellspacing="0">
                    <p:graphicImage library="img" name="#{managedParametre.modelFactureVente}.PNG"/>  
                    <p:outputPanel style="font-style: italic" rendered="#{managedParametre.modelFactureVente eq 'facture_vente'}">
                        <span>#{lab.LC_PPG_text1}</span><br></br>                     
                    </p:outputPanel>
                    <p:outputPanel style="font-style: italic" rendered="#{managedParametre.modelFactureVente eq 'facture_vente_by_code'}">
                        <span>#{lab.LC_PPG_text2}</span><br></br>
                        <span>#{lab.LC_PPG_infos_vendeur}</span><br></br>
                    </p:outputPanel>
                    <p:outputPanel style="font-style: italic" rendered="#{managedParametre.modelFactureVente eq 'facture_vente_2'}">
                        <span>#{lab.LC_PPG_text10}</span><br></br>
                        <span>#{lab.LC_PPG_infos_societe}</span><br></br>
                    </p:outputPanel>
                </h:panelGrid>
            </p:dialog>
            <p:dialog header="Description model de ticket" widgetVar="dlgModelTicketVente" modal="true" closeOnEscape="true" footer="&copy;Lymytz 2014"> 
                <h:panelGrid id="blog-view_model_tv" columns="1" style="width: 100%" styleClass="yvs_nostyle" cellpadding="0" cellspacing="0">
                    <p:graphicImage library="img" name="#{managedParametre.modelTicketVente}.PNG"/>  
                </h:panelGrid>
            </p:dialog>
        </h:form>

        <h:form prependId="false">
            #{managedModeReglement.loadAllNiveauAcces()} 
            <p:dialog header="#{lab.LC_PPG_liste_niveau_acces}" widgetVar="dlgNiveauAcces" width="50%"
                      modal="true" closeOnEscape="true" footer="&copy;Lymytz 2014"> 
                <p:dataTable value="#{managedModeReglement.selectPhase.autorisations}" var="niv" selectionMode="multiple" rowKey="#{niv.id}"
                             id="tablePhaseDroitValid" rowIndexVar="line_" selection="#{managedModeReglement.selectionNiveauAcces}">
                    <p:ajax event="rowSelect" listener="#{managedModeReglement.toogleDroitValidDoc}" update="tablePhaseDroitValid" />
                    <p:column headerText="N° " width="20">
                        #{line_+1}
                    </p:column>
                    <p:column headerText="Id" width="25">
                        #{niv.niveauAcces.id}
                    </p:column>
                    <p:column headerText="#{lab.L_designation} " width="100"> 
                        #{niv.niveauAcces.designation}
                    </p:column>
                    <p:column headerText="#{lab.LC_PPG_grade}" width="50" style="text-align: center">
                        #{niv.niveauAcces.grade}
                    </p:column>
                    <p:column headerText="#{lab.LC_PPG_valide}" width="50" style="text-align: center">
                        <h:graphicImage library="img" name="#{(niv.canValide)?'yes.png':'no.png'}" />
                    </p:column>
                    <p:column headerText="#{lab.LC_PPG_notifier}" width="50" style="text-align: center">
                        <h:graphicImage library="img" name="#{(niv.canNotify)?'yes.png':'no.png'}" />
                    </p:column>
                    <p:column headerText="" width="30" style="text-align: center">
                        <p:contextMenu event="left click" for="opt_btn_workflow_phase" styleClass="context_menu">
                            <p:menuitem value="#{niv.canNotify?'Ne pas notifier':'Notifier'}" actionListener="#{managedModeReglement.toogleNotifieValid(niv)}" update="tablePhaseDroitValid"/>
                            <p:menuitem value="#{niv.canValide?'Ne Peut Valider':'Peut Valider'}" actionListener="#{managedModeReglement.toogleDroitValidDoc_(niv)}" update="tablePhaseDroitValid"/>
                        </p:contextMenu>
                        <p:commandButton icon="ui-icon-gear" type="button" style="width: 22px; height: 22px" id="opt_btn_workflow_phase" />
                    </p:column>
                </p:dataTable>
            </p:dialog>
        </h:form>
        <h:form prependId="false" id="form_dlg_fusionneMDP">
            <p:dialog widgetVar="dlgConfirmFusion_mdp" header="#{lab.L_fusionner}" dynamic="true" resizable="false" closeOnEscape="true" modal="true"  >
                <h:panelGrid id="blog_fusionner_mdp" columns="1" styleClass="yvs_nostyle" style="width: 100%" cellpadding="0" cellspacing="0"
                             >
                    <span>#{lab.LC_PPG_text3} </span>
                    <h:outputText style="font-weight: bold;margin-left: 10px" value="#{managedModeReglement.fusionneModePTo}"/>
                    <span>#{lab.LC_PPG_text4}</span>
                    <c:forEach items="#{managedModeReglement.fusionnesUniteBy}" var="fus">
                        <span style="margin-left: 10px"> - <span style="font-weight: bold">#{fus}</span></span>
                    </c:forEach>
                    <span>#{lab.LC_PPG_text5}</span>
                </h:panelGrid>
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedModeReglement.fusionnerUnite(false)}" style="float: right" oncomplete="dlgConfirmFusion_mdp.hide()" 
                                 update=":main_param_com:tabview_param_com:table_mod_reg_actif"/> 
            </p:dialog>
        </h:form>
        <h:form>
            <p:remoteCommand name="reloadAllLotReception_" global="false" oncomplete="collapseForm('lot_reception')"
                             actionListener="#{managedCritereLot.update('form_lot_reception')}"/>
        </h:form>
        <h:form prependId="false">
            <p:confirmDialog widgetVar="dlgConfirmDelModeR" message="#{lab.LC_PPG_text6}"
                             closeOnEscape="true" >
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedModeReglement.deleteBean_()}" oncomplete="dlgConfirmDelModeR.hide()" icon="ui-icon-circle-check"/>
                <p:commandButton value="#{lab.L_non}" type="button" onclick="dlgConfirmDelModeR.hide()" icon="ui-icon-circle-close"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false" >
            <p:dialog header="#{lab.LC_PPG_liste_comptes}" widgetVar="dlgListComptes" modal="true" width="50%" closeOnEscape="true" style="min-height: 250px">
                <div class="dlg_part_fixe">
                    <p:watermark value="#{lab.LC_PPG_saisir_compte_g}" for="txt_cmpte_find_typeCoutCom"/>
                    <p:watermark value="#{lab.LC_PPG_saisir_nature_compte}" for="txt_nature_find_typeCoutCom"/>
                    <h:panelGrid columns="2" style="font-size: 0.7em; float: left">        
                        <h:inputText value="#{managedCompte.numCompteF}" id="txt_cmpte_find_typeCoutCom">
                            <p:ajax event="keyup" listener="#{managedCompte.addParamNumCompte(managedCompte.numCompteF)}" update="data_comptes_type_com table_cptG_modR" />
                        </h:inputText>
                        <h:inputText value="#{managedCompte.natureCompteF}" id="txt_nature_find_typeCoutCom">
                            <p:ajax event="keyup" listener="#{managedCompte.addParamNatureCompte(managedCompte.natureCompteF)}" update="data_comptes_type_com table_cptG_modR" />
                        </h:inputText>
                    </h:panelGrid>
                    <p:outputPanel style="float: right" layout="block" autoUpdate="true">
                        <p:commandButton actionListener="#{managedCompte.pagineDataCompte(false)}" update="data_comptes_type_com table_cptG_modR" icon="ui-icon-circle-triangle-w" disabled="#{managedCompte.paginator.disPrev}"/>
                        <p:outputPanel ><p:outputLabel value="#{managedCompte.paginator.currentPage}/#{managedCompte.paginator.nbPage}" style="margin-top: 15px; font-size: 0.8em; font-weight: bold" /></p:outputPanel>
                        <p:commandButton actionListener="#{managedCompte.pagineDataCompte(true)}" update="data_comptes_type_com table_cptG_modR" icon="ui-icon-circle-triangle-e" disabled="#{managedCompte.paginator.disNext}"/>
                        <p:selectOneMenu value="#{managedCompte.imax}" label="#{lab.L_nombre_max_resultat}" valueChangeListener="#{managedCompte.changeMaxResult}" style="float: right; font-size: 0.9em;margin-top: 3px;min-width: 50px" >
                            <f:selectItems value="#{managedCompte.paginations}"/>
                            <p:ajax event="valueChange" update="data_comptes_type_com table_cptG_modR"/>
                        </p:selectOneMenu>
                    </p:outputPanel><div  style="clear: both" />
                </div>
                <div class="dlg_part_scroll">
                    <p:dataTable id="data_comptes_type_com" value="#{managedCompte.listComptes}" var="cpt" rowKey="#{cpt.id}" 
                                 rowIndexVar="cltIdx" selectionMode="single" paginator="true" rows="20" paginatorAlwaysVisible="false">
                        <p:ajax event="rowSelect" global="false" listener="#{managedTypeCout.loadOnViewCompte}"  oncomplete="dlgListComptes.hide()"
                                update=":main_param_com:tabview_param_com:txt_compte_type_cout_com"/>
                        <p:column width="15">
                            <span>#{cltIdx+1}</span>
                        </p:column>
                        <p:column width="50" headerText="#{lab.LC_PPG_numero_g}">
                            <span>#{cpt.numCompte}</span>
                        </p:column>
                        <p:column width="50" headerText="#{lab.LC_PPG_compte_general}">
                            <span>#{cpt.compteGeneral.numCompte}</span>
                        </p:column>
                        <p:column headerText="#{lab.L_intitule}" width="80">
                            <span>#{cpt.intitule}</span>
                        </p:column>
                    </p:dataTable>
                </div>
            </p:dialog>
            <p:dialog header="#{lab.LC_PPG_liste_comptes}" widgetVar="dlgCmpteG" width="60%" height="600" closeOnEscape="true"
                      footer="&copy; Lymytz" >
                <div class="dlg_part_fixe">
                    <p:watermark value="#{lab.LC_PPG_saisir_compte_g}" for="txt_cmpte_find_modR"/>
                    <p:watermark value="#{lab.LC_PPG_saisir_nature_compte}" for="txt_nature_find_modR"/>
                    <h:panelGrid columns="2" style="font-size: 0.7em; float: left">        
                        <h:inputText value="#{managedCompte.numCompteF}" id="txt_cmpte_find_modR">
                            <p:ajax event="keyup" listener="#{managedCompte.addParamNumCompte(managedCompte.numCompteF)}" update="table_cptG_modR data_comptes_type_com" />
                        </h:inputText>
                        <h:inputText value="#{managedCompte.natureCompteF}" id="txt_nature_find_modR">
                            <p:ajax event="keyup" listener="#{managedCompte.addParamNatureCompte(managedCompte.natureCompteF)}" update="table_cptG_modR data_comptes_type_com" />
                        </h:inputText>
                    </h:panelGrid>
                    <p:outputPanel style="float: right" layout="block" autoUpdate="true">
                        <p:commandButton actionListener="#{managedCompte.pagineDataCompte(false)}" update="table_cptG_modR data_comptes_type_com" icon="ui-icon-circle-triangle-w" disabled="#{managedCompte.paginator.disPrev}"/>
                        <p:outputPanel ><p:outputLabel value="#{managedCompte.paginator.currentPage}/#{managedCompte.paginator.nbPage}" style="margin-top: 15px; font-size: 0.8em; font-weight: bold" /></p:outputPanel>
                        <p:commandButton actionListener="#{managedCompte.pagineDataCompte(true)}" update="table_cptG_modR data_comptes_type_com" icon="ui-icon-circle-triangle-e" disabled="#{managedCompte.paginator.disNext}"/>
                        <p:selectOneMenu value="#{managedCompte.imax}" label="#{lab.L_nombre_max_resultat}" valueChangeListener="#{managedCompte.changeMaxResult}" style="float: right; font-size: 0.9em;margin-top: 3px;min-width: 50px" >
                            <f:selectItems value="#{managedCompte.paginations}"/>
                            <p:ajax event="valueChange" update="table_cptG_modR data_comptes_type_com"/>
                        </p:selectOneMenu>
                    </p:outputPanel><div  style="clear: both" />
                </div>
                <div class="dlg_part_scroll">
                    <p:dataTable value="#{managedCompte.listComptes}" var="cptG" emptyMessage="#{lab.LC_PPG_aucun_compte}"
                                 rowIndexVar="line_cg" rowKey="#{cptG.id}" selectionMode="single" id="table_cptG_modR">
                        <p:ajax event="rowSelect" listener="#{managedModeReglement.choisirCompte}" 
                                oncomplete="dlgCmpteG.hide()"/>
                        <p:column headerText="N°" width="20" style="text-align: center">
                            #{line_cg+1}
                        </p:column>
                        <p:column headerText="#{lab.L_numero}" width="100" >
                            #{cptG.numCompte}
                        </p:column>
                        <p:column headerText="#{lab.L_intitule}" width="200" >
                            #{cptG.intitule}
                        </p:column>
                        <p:column headerText="#{lab.L_type}" width="100" >
                            #{cptG.typeCompte}
                        </p:column>
                        <p:column headerText="#{lab.LC_PPG_repport}" width="100" >
                            #{cptG.typeReport}
                        </p:column>
                        <p:column headerText="#{lab.LC_PPG_compte_g}" width="100" >
                            #{cptG.compteGeneral.numCompte}
                        </p:column>
                    </p:dataTable>
                </div>
            </p:dialog>
        </h:form>
        <!-->
        *****************************************************************************
        Boite de dialogue des tranches de reglement
        *****************************************************************************
        <-->  
        <h:form prependId="false">
            <p:dialog header="#{lab.LC_PPG_tranche_reglement}" widgetVar="dlgTrancheModel" modal="true" width="50%"  closeOnEscape="true"> 
                <p:outputPanel id="blog_form_tranche_model_reglement">
                    <h:panelGrid id="form_tranche_model_reglement" columns="2" style="width: 100%" styleClass="yvs_table" cellpadding="0" cellspacing="0">
                        <span>#{lab.LC_PPG_n_tranche}</span>
                        <h:inputText value="#{managedModeReglement.tranche.numero}" converter="DN" style="width: 30%"/>
                        <span>#{lab.LC_PPG_taux} </span>
                        <pe:inputNumber value="#{managedModeReglement.tranche.taux}" symbol="%" symbolPosition="suffixe" style="width: 40%;text-align: right"/>
                        <span>#{lab.LC_PPG_interval_jour} </span>
                        <pe:inputNumber value="#{managedModeReglement.tranche.intervalJour}" symbol=" #{lab.L_jour}(s)" symbolPosition="suffixe" decimalPlaces="0" style="text-align: right"/>
                        <span>#{lab.LC_PPG_mode_reglement}</span>
                        <h:selectOneMenu value="#{managedModeReglement.tranche.mode.id}" id="select_mode_tranche_model">
                            <f:selectItem itemLabel="--" itemValue="0" noSelectionOption="true"/>
                            <f:selectItems value="#{managedModeReglement.modes}" var="mo" 
                                           itemLabel="#{mo.designation}" itemValue="#{mo.id}" />
                        </h:selectOneMenu> 
                    </h:panelGrid>
                    <div>
                        <p:commandButton id="cancel_tranche_model_reglement" value="#{lab.L_nouveau}" style="float: left" oncomplete="collapseForm('tranche_model_reglement')"
                                         actionListener="#{managedModeReglement.resetFicheTranche()}" global="false"/>
                        <p:commandButton id="save_tranche_model_reglement" value="#{lab.L_enregistrer}" style="float: right" oncomplete="collapseForm('tranche_model_reglement')" icon="ui-icon-disk"
                                         actionListener="#{managedModeReglement.saveNewTranche()}" update="data_tranche_model_reglement form_tranche_model_reglement"/>
                    </div>
                    <br/>
                    <p:outputPanel style="margin-top: 10px">
                        <h:inputHidden id="input_hide_tranche_model_reglement" value="#{managedModeReglement.tabIds_tranche}"/>
                        <p:dataTable id="data_tranche_model_reglement" value="#{managedModeReglement.modelSelect.tranches}" var="tran" rowKey="#{tran.id}"
                                     rowIndexVar="tranIdx" selectionMode="single" rows="5" paginator="true" paginatorAlwaysVisible="false">
                            <p:ajax event="rowSelect" global="false" listener="#{managedModeReglement.loadOnViewTranche}"/>
                            <p:ajax event="rowUnselect" global="false" listener="#{managedModeReglement.unLoadOnViewTranche}"/>
                            <p:column headerText="N°" style="width: 12%;text-align: center">
                                <h:graphicImage library="img" name="redo.png" width="15" height="15" rendered="#{tran.new_}"/>
                                <span>#{tran.numero}</span>
                            </p:column>
                            <p:column headerText="#{lab.LC_PPG_taux}" style="width: 20%;text-align: right">
                                <h:outputText value="#{tran.taux}" converter="DN"/>
                                <span> %</span>
                            </p:column>
                            <p:column headerText="#{lab.LC_PPG_interval}" style="text-align: right">
                                <h:outputText value="#{tran.intervalJour}" converter="DN"/>
                                <span> #{lab.L_jours}</span>
                            </p:column>
                            <p:column headerText="#{lab.LC_PPG_mode}">
                                <span>#{tran.mode.designation}</span>
                            </p:column>
                            <p:column width="20" style="text-align: center">
                                <p:contextMenu for="btn_option_tranche_model_reglement" event="left click" style="font-size: 0.8em">
                                    <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" global="false" actionListener="#{managedModeReglement.deleteBeanTranche_(tran)}" oncomplete="dlgConfirmDeleteTranche_.show()"/>
                                </p:contextMenu>                           
                                <p:commandButton icon="ui-icon-gear" style="width: 22px; height: 22px" id="btn_option_tranche_model_reglement" type="button"/>
                            </p:column> 
                            <p:column width="20" style="text-align: center">
                                <f:facet name="header">
                                    <h:selectBooleanCheckbox styleClass="chek_all_line_tranche_model_reglement" value="false"
                                                             onclick="selectionAllLineTab(#{managedModeReglement.modelSelect.tranches.size()}, 'model_reglement')">
                                    </h:selectBooleanCheckbox>
                                </f:facet>
                                <h:selectBooleanCheckbox  value="#{tran.select}" styleClass="chek_line_tranche_model_reglement" 
                                                          onclick="selectionLineTab(#{tran.id}, 'tranche_model_reglement')">
                                </h:selectBooleanCheckbox>
                            </p:column>
                        </p:dataTable>
                        <p:commandButton id="delete_tranche_model_reglement" value="Supprimer" style="float: right"
                                         onclick="dlgConfirmDeleteTranche.show()" global="false"/>
                    </p:outputPanel>
                </p:outputPanel>
                <f:facet name="footer" class="yvs-dialog-footer">
                    #{lab.L_copy}
                </f:facet> 
            </p:dialog>
        </h:form>

        <h:form prependId="false">
            <p:dialog header="#{lab.LC_PPG_liste_articles}" widgetVar="dlgListArticleRemise" modal="true" width="80%"  closeOnEscape="true"> 
                <p:dataTable id="data_article_remise" value="#{managedPlanRemise.articles}" var="artRemis_" rowKey="#{artRemis_.id}"
                             rowIndexVar="artRemisIdx" selectionMode="single" scrollable="true" scrollHeight="400">
                    <p:ajax event="rowSelect" global="false" listener="#{managedPlanRemise.loadOnViewArticle_}" oncomplete="dlgListArticleRemise.hide()"/>
                    <p:column headerText="N°" style="width: 1%;text-align: center">
                        <span>#{artRemisIdx+1}</span>
                    </p:column>
                    <p:column headerText="#{lab.L_code}" style="width: 2%">
                        <span>#{artRemis_.codeBarre}</span>
                    </p:column>
                    <p:column headerText="#{lab.L_designation}" style="width: 6%">
                        <span>#{artRemis_.designation}</span>
                    </p:column>
                    <p:column headerText="#{lab.L_categorie}" style="width: 4%">
                        <span>#{artRemis_.categorie}</span>
                    </p:column>
                    <p:column headerText="#{lab.LC_PPG_groupe}" style="width: 4%">
                        <span>#{artRemis_.groupe.refgroupe}</span>
                    </p:column>
                </p:dataTable>
                <f:facet name="footer" class="yvs-dialog-footer">
                    #{lab.L_copy}
                </f:facet> 
            </p:dialog>
        </h:form>

        <h:form prependId="false">
            <p:dialog header="#{lab.LC_PPG_liste_articles}" widgetVar="dlgListArticleRistourne" modal="true" width="80%"  closeOnEscape="true"> 
                <p:dataTable id="data_article_ristourne" value="#{managedPlanRistourne.articles}" var="artRistourne_" rowKey="#{artRistourne_.id}"
                             rowIndexVar="artRistourneIdx" selectionMode="single" scrollable="true" scrollHeight="400">
                    <p:ajax event="rowSelect" global="false" listener="#{managedPlanRistourne.loadOnViewArticle_}" oncomplete="dlgListArticleRistourne.hide()"/>
                    <p:column headerText="N°" style="width: 1%;text-align: center">
                        <span>#{artRistourneIdx+1}</span>
                    </p:column>
                    <p:column headerText="#{lab.L_code}" style="width: 2%">
                        <span>#{artRistourne_.article_.codeBarre}</span>
                    </p:column>
                    <p:column headerText="#{lab.L_designation}" style="width: 6%">
                        <span>#{artRistourne_.article_.designation}</span>
                    </p:column>
                    <p:column headerText="#{lab.L_categorie}" style="width: 4%">
                        <span>#{artRistourne_.article_.categorie}</span>
                    </p:column>
                    <p:column headerText="#{lab.LC_PPG_groupe}" style="width: 4%">
                        <span>#{artRistourne_.article_.refGroupe}</span>
                    </p:column>
                </p:dataTable>
                <f:facet name="footer" class="yvs-dialog-footer">
                    #{lab.L_copy}
                </f:facet> 
            </p:dialog>
        </h:form>


        <h:form prependId="false">
            <p:confirmDialog hideEffect="scale" widgetVar="dlgConfirmDeletePrintFactureVente" closeOnEscape="true"
                             message="Voiulez-vous supprimer ce modèle?" header="Confirmation">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedPrintFactureVente.deleteBean(managedPrintFactureVente.entity, true)}" oncomplete="dlgConfirmDeletePrintFactureVente.hide()"/>
                <p:commandButton value="#{lab.L_non}" onclick="dlgConfirmDeletePrintFactureVente.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="scale" widgetVar="dlgConfirmDeletePrintTicketVente" closeOnEscape="true"
                             message="Voiulez-vous supprimer ce modèle?" header="Confirmation">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedPrintTicketVente.deleteBean(managedPrintTicketVente.entity, true)}" oncomplete="dlgConfirmDeletePrintTicketVente.hide()"/>
                <p:commandButton value="#{lab.L_non}" onclick="dlgConfirmDeletePrintTicketVente.hide()"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false">
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeletePeriodeObjectif" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedPeriodeObjectif.deleteLinePeriode()}" oncomplete="dlgConfirmDeletePeriodeObjectif.hide();collapseForm('periode_objectif')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeletePeriodeObjectif.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeletePeriodeObjectif_" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedPeriodeObjectif.deleteLinePeriode()}" oncomplete="dlgConfirmDeletePeriodeObjectif_.hide();collapseForm('periode_objectif')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeletePeriodeObjectif_.hide()"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false">
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteTranche" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedModeReglement.deleteBeanTranche()}" oncomplete="dlgConfirmDeleteTranche.hide();collapseForm('tranche_model_reglement')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteTranche.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteTranche_" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedModeReglement.deleteBeanTranche_()}" oncomplete="dlgConfirmDeleteTranche_.hide();collapseForm('tranche_model_reglement')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteTranche_.hide()"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false">
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteCategorieFsseur" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedCategorieFsseur.deleteBean()}" update=":main_param_com:tabview_param_com:form_categorie_fournisseur :main_param_com:tabview_param_com:data_categorie_fournisseur"
                                 oncomplete="dlgConfirmDeleteCategorieFsseur.hide();collapseForm('categorie_fournisseur')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteCategorieFsseur.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteCategorieFsseur_" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedCategorieFsseur.deleteBean_()}" update=":main_param_com:tabview_param_com:form_categorie_fournisseur :main_param_com:tabview_param_com:data_categorie_fournisseur"
                                 oncomplete="dlgConfirmDeleteCategorieFsseur_.hide();collapseForm('categorie_fournisseur')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteCategorieFsseur_.hide()"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false">
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteCritere" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedCritereLot.deleteBean()}"  oncomplete="dlgConfirmDeleteCritere.hide();collapseForm('critere_lot')"
                                 update=":main_param_com:tabview_param_com:form_critere_lot :main_param_com:tabview_param_com:data_critere_lot"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteCritere.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteCritere_" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedCritereLot.deleteBean_()}" oncomplete="dlgConfirmDeleteCritere_.hide();collapseForm('critere_lot')"
                                 update=":main_param_com:tabview_param_com:form_critere_lot :main_param_com:tabview_param_com:data_critere_lot"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteCritere_.hide()"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false">
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteTypeCout" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedTypeCout.deleteBean()}" update=":main_param_com:tabview_param_com:form_type_cout_com :main_param_com:tabview_param_com:data_type_cout_com"
                                 oncomplete="dlgConfirmDeleteTypeCout.hide();collapseForm('type_cout_com')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteTypeCout.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteTypeCout_" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedTypeCout.deleteBean_()}" update=":main_param_com:tabview_param_com:form_type_cout_com :main_param_com:tabview_param_com:data_type_cout_com"
                                 oncomplete="dlgConfirmDeleteTypeCout_.hide();collapseForm('type_cout_com')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteTypeCout_.hide()"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false">
            <p:confirmDialog hideEffect="explode" widgetVar="_dlgConfirmDeleteMode" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedModeReglement.deleteBeanModel()}" update=":main_param_com:tabview_param_com:form_model_reglement :main_param_com:tabview_param_com:data_model_reglement"
                                 oncomplete="_dlgConfirmDeleteMode.hide();collapseForm('model_reglement')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="_dlgConfirmDeleteMode.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="_dlgConfirmDeleteMode_" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedModeReglement.deleteBeanModel_()}" update=":main_param_com:tabview_param_com:form_model_reglement :main_param_com:tabview_param_com:data_model_reglement"
                                 oncomplete="_dlgConfirmDeleteMode_.hide();collapseForm('model_reglement')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="_dlgConfirmDeleteMode_.hide()"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false">
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteLotReception" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedLotReception.deleteBean()}" oncomplete="dlgConfirmDeleteLotReception.hide();collapseForm('lot_reception')"
                                 update=":main_param_com:tabview_param_com:form_lot_reception :main_param_com:tabview_param_com:data_lot_reception"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteLotReception.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteLotReception_" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedLotReception.deleteBean_()}" oncomplete="dlgConfirmDeleteLotReception_.hide();collapseForm('lot_reception')"
                                 update=":main_param_com:tabview_param_com:form_lot_reception :main_param_com:tabview_param_com:data_lot_reception"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteLotReception_.hide()"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false">
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteCategorieComptable" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedCatCompt.deleteBean()}" update=":main_param_com:tabview_param_com:form_categorie_comptable :main_param_com:tabview_param_com:data_categorie_comptable"
                                 oncomplete="dlgConfirmDeleteCategorieComptable.hide();collapseForm('categorie_comptable')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteCategorieComptable.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteCategorieComptable_" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedCatCompt.deleteBean_()}" update=":main_param_com:tabview_param_com:form_categorie_comptable :main_param_com:tabview_param_com:data_categorie_comptable"
                                 oncomplete="dlgConfirmDeleteCategorieComptable_.hide();collapseForm('categorie_comptable')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteCategorieComptable_.hide()"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false">
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteQualite" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedQualite.deleteBean()}" update=":main_param_com:tabview_param_com:form_qualite :main_param_com:tabview_param_com:data_qualite"
                                 oncomplete="dlgConfirmDeleteQualite.hide();collapseForm('qualite')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteQualite.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteQualite_" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedQualite.deleteBean_()}" update=":main_param_com:tabview_param_com:form_qualite :main_param_com:tabview_param_com:data_qualite"
                                 oncomplete="dlgConfirmDeleteQualite_.hide();collapseForm('qualite')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteQualite_.hide()"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false">
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteParametre" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedParametre.deleteBean()}" update=":main_param_com:tabview_param_com:form_parametre"
                                 oncomplete="dlgConfirmDeleteParametre.hide();collapseForm('parametre')"/>
                <p:commandButton type="button"  value="#{lab.L_non}" onclick="dlgConfirmDeleteParametre.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteParametreVente" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedParametre.deleteBeanVente()}" update=":main_param_com:tabview_param_com:form_param_vente" 
                                 oncomplete="dlgConfirmDeleteParametreVente.hide();collapseForm('param_vente')"/>
                <p:commandButton type="button" value="#{lab.L_non}" onclick="dlgConfirmDeleteParametreVente.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteParametreAchat" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedParametre.deleteBeanAchat()}" update=":main_param_com:tabview_param_com:form_param_achat" 
                                 oncomplete="dlgConfirmDeleteParametreAchat.hide();collapseForm('param_achat')"/>
                <p:commandButton type="button" value="#{lab.L_non}" onclick="dlgConfirmDeleteParametreAchat.hide()"/>
            </p:confirmDialog>
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDeleteParametreStock" closeOnEscape="true"
                             message="#{lab.LC_PPG_text7}" header="#{lab.L_confirmation}">
                <p:commandButton value="#{lab.L_oui}" actionListener="#{managedParametre.deleteBeanStock()}" update=":main_param_com:tabview_param_com:form_param_stock" 
                                 oncomplete="dlgConfirmDeleteParametreStock.hide();collapseForm('param_stock')"/>
                <p:commandButton type="button" value="#{lab.L_non}" onclick="dlgConfirmDeleteParametreStock.hide()"/>
            </p:confirmDialog>
        </h:form>
        <!-->
        *****************************************************************************
        Début du formulaire
        *****************************************************************************
        <-->         
        <h:form prependId="false" id="main_param_com">
            <div class="part_scroll">
                <h:inputHidden id="input_hide_modePaie" value="#{managedModeReglement.tabIds_modeR}" />                                
                <p:tabView id="tabview_param_com">
                    <p:tab title="#{lab.LC_PPG_parametres}">
                        <p:outputPanel id="blog_form_parametre">
                            <h:panelGrid id="form_parametre" columns="4" styleClass="yvs_table" style="width: 100%" cellpadding="0" cellspacing="0"> 
                                <f:facet name="header">
                                    <h:panelGrid columns="2" style="width: 100%">
                                        <span style="font-weight: bold">#{lab.LC_PPG_parametres_generaux}</span>
                                        <h:panelGroup style="float: right">
                                            <p:commandButton value="#{lab.L_supprimer}" id="delete_parametre_" global="false" rendered="false"
                                                             onclick="dlgConfirmDeleteParametre.show()" style="float: left"/>
                                            <p:commandButton value="#{lab.L_enregistrer}" update="form_parametre" icon="ui-icon-disk"
                                                             actionListener="#{managedParametre.saveNew()}"/>
                                        </h:panelGroup>
                                    </h:panelGrid>
                                </f:facet>
                                <span>#{lab.LC_PPG_mode_inventaire} </span>
                                <h:selectOneMenu value="#{managedParametre.parametre.modeInventaire}">
                                    <f:selectItem itemValue="#{constantes.MODE_INV_PERM}" itemLabel="#{constantes.MODE_INV_PERM_NAME}"/>
                                    <f:selectItem itemValue="#{constantes.MODE_INV_INTE}" itemLabel="#{constantes.MODE_INV_INTE_NAME}"/>
                                </h:selectOneMenu>                           
                                <span>#{lab.LC_PPG_ration}</span>
                                <pe:inputNumber value="#{managedParametre.parametre.jourUsine}" />
                                <span>#{lab.LC_PPG_reglement_auto} </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.parametre.reglementAuto}"/>
                                <span>Utiliser les lots de reception </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.parametre.useLotReception}"/>
                                <span>#{lab.LC_PPG_seuil_fournisseur} </span>
                                <pe:inputNumber value="#{managedParametre.parametre.seuilFsseur}" decimalPlaces="0"/>
                                <span>#{lab.LC_PPG_seuil_client} </span>
                                <pe:inputNumber value="#{managedParametre.parametre.seuilClient}" decimalPlaces="0"/>
                                <span>#{lab.LC_PPG_format_stock_quantite}</span>
                                <h:panelGroup>
                                    <pe:inputNumber value="#{managedParametre.parametre.converter}" decimalPlaces="0">
                                        <p:ajax event="blur" global="false" update="txt_apercu_converter_stock"/>
                                    </pe:inputNumber>
                                    <h:panelGroup style="float: right;margin-top: 5px">
                                        <span>#{lab.LC_PPG_aprecu} : </span>
                                        <h:outputText id="txt_apercu_converter_stock" value="1000" converter="#{managedParametre.getConverted(managedParametre.parametre.converter)}" style="font-weight: bold"/>
                                    </h:panelGroup>
                                </h:panelGroup>     
                                <span>#{lab.LC_PPG_format_stock_valeur}</span>
                                <h:panelGroup>
                                    <pe:inputNumber value="#{managedParametre.parametre.converterCs}" decimalPlaces="0">
                                        <p:ajax event="blur" global="false" update="txt_apercu_converter_c_stock"/>
                                    </pe:inputNumber>
                                    <h:panelGroup style="float: right;margin-top: 5px">
                                        <span>#{lab.LC_PPG_aprecu} : </span>
                                        <h:outputText id="txt_apercu_converter_c_stock" value="1000" converter="#{managedParametre.getConverted(managedParametre.parametre.converterCs)}" style="font-weight: bold"/>
                                    </h:panelGroup>
                                </h:panelGroup>
                                <span title="#{lab.LC_PPG_duree_inactivite_tiers}">#{lab.LC_PPG_duree_inactivite} </span>
                                <pe:inputNumber value="#{managedParametre.parametre.dureeInactiv}" decimalPlaces="0"/>
                                <span>#{lab.LC_PPG_managed_ecart_with} </span>
                                <h:selectOneMenu value="#{managedParametre.parametre.documentGenererFromEcart}">
                                    <f:selectItem itemValue="#{constantes.DOC_MANAGE_ECART_RE}" itemLabel="#{constantes.DOC_MANAGE_ECART_RE_NAME}"/>
                                    <f:selectItem itemValue="#{constantes.DOC_MANAGE_ECART_CR}" itemLabel="#{constantes.DOC_MANAGE_ECART_CR_NAME}"/>
                                </h:selectOneMenu>
                                <span>Determiner le taux de marge sur le prix</span>
                                <h:selectOneMenu value="#{managedParametre.parametre.tauxMargeSur}">
                                    <f:selectItem itemValue="A" itemLabel="ACHAT"/>
                                    <f:selectItem itemValue="V" itemLabel="VENTE"/>
                                </h:selectOneMenu>
                            </h:panelGrid>
                            <br/>
                            <h:panelGrid id="form_param_achat" columns="4" styleClass="yvs_table" style="width: 100%" cellpadding="0" cellspacing="0"> 
                                <f:facet name="header">
                                    <h:panelGrid columns="2" style="width: 100%">
                                        <span style="font-weight: bold">Paramètres Achat</span>
                                        <h:panelGroup style="float: right">
                                            <p:commandButton value="#{lab.L_supprimer}" id="delete_param_achat" global="false"
                                                             onclick="dlgConfirmDeleteParametreAchat.show()" style="float: left"/>
                                            <p:commandButton value="#{lab.L_enregistrer}" update="form_param_achat"  icon="ui-icon-disk"
                                                             actionListener="#{managedParametre.saveNewAchat()}" style="float: right"
                                                             oncomplete="collapseForm('param_achat')"/>
                                        </h:panelGroup>
                                    </h:panelGrid>                                    
                                </f:facet>
                                <span>#{lab.LC_PPG_max_jour_anterieur} </span>
                                <pe:inputNumber value="#{managedParametre.achat.jourAnterieur}" decimalPlaces="0" style="width: 30%"/>
                                <span>#{lab.LC_PPG_regler_si_non_valide} </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.achat.paieWithoutValide}"/>
                                <span>#{lab.LC_PPG_generer_facture_a_la_validation_bl} </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.achat.genererFactureAuto}"/>
                                <span>#{lab.LC_PPG_comptabilisation_auto} </span>
                                <h:panelGroup>                                    
                                    <h:selectBooleanCheckbox value="#{managedParametre.achat.comptabilisationAuto}" style="margin-top: 7px"/>
                                    <h:panelGroup style="float: right">         
                                        <span>#{lab.LC_PPG_mode} </span>
                                        <h:selectOneMenu value="#{managedParametre.achat.comptabilisationMode}">
                                            <f:selectItem itemLabel="#{lab.LC_PPG_par_document}" itemValue="D"/>
                                            <f:selectItem itemLabel="#{lab.LC_PPG_par_periode}" itemValue="P"/>
                                        </h:selectOneMenu>
                                    </h:panelGroup>
                                </h:panelGroup>
                                <span>Imprimer les documents validés </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.achat.printDocumentWhenValide}"/>
                            </h:panelGrid>
                            <br/>
                            <h:panelGrid id="form_param_stock" columns="4" styleClass="yvs_table" style="width: 100%" cellpadding="0" cellspacing="0"> 
                                <f:facet name="header">
                                    <h:panelGrid columns="2" style="width: 100%">
                                        <span style="font-weight: bold">Paramètres Stock</span>
                                        <h:panelGroup style="float: right">
                                            <p:commandButton value="#{lab.L_supprimer}" id="delete_param_stock" global="false"
                                                             onclick="dlgConfirmDeleteParametreStock.show()" style="float: left"/>
                                            <p:commandButton value="#{lab.L_enregistrer}" update="form_param_stock"  icon="ui-icon-disk"
                                                             actionListener="#{managedParametre.saveNewStock()}" style="float: right"
                                                             oncomplete="collapseForm('param_stock')"/>
                                        </h:panelGroup>
                                    </h:panelGrid> 
                                </f:facet>
                                <span>#{lab.LC_PPG_max_jour_anterieur} </span>
                                <pe:inputNumber value="#{managedParametre.stock.jourAnterieur}" decimalPlaces="0" style="width: 30%"/>
                                <span>#{lab.LC_PPG_active_ration} </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.stock.activeRation}">
                                    <p:ajax event="valueChange" global="false" update="txt-taille_code_ration txt-marge_fiche_ration"/>
                                </h:selectBooleanCheckbox>
                                <span>#{lab.LC_PPG_calcul_prix_revient} </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.stock.calculPr}">
                                    <p:ajax event="valueChange" global="false"/>
                                </h:selectBooleanCheckbox>
                                <span>#{lab.LC_PPG_taille_code_ration} </span>
                                <pe:inputNumber id="txt-taille_code_ration" value="#{managedParametre.stock.tailleCodeRation}" decimalPlaces="0" style="width: 30%" 
                                                disabled="#{!managedParametre.stock.activeRation}"/>
                                <span>#{lab.LC_PPG_comptabilisation_auto} </span>
                                <h:panelGroup>                                    
                                    <h:selectBooleanCheckbox value="#{managedParametre.stock.comptabilisationAuto}" style="margin-top: 7px"/>
                                    <h:panelGroup style="float: right">         
                                        <span>#{lab.LC_PPG_mode} </span>
                                        <h:selectOneMenu value="#{managedParametre.stock.comptabilisationMode}">
                                            <f:selectItem itemLabel="#{lab.LC_PPG_par_document}" itemValue="D"/>
                                            <f:selectItem itemLabel="#{lab.LC_PPG_par_periode}" itemValue="P"/>
                                        </h:selectOneMenu>
                                    </h:panelGroup>
                                </h:panelGroup>
                                <span>Imprimer les documents validés </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.stock.printDocumentWhenValide}"/>
                                <span>Marge validité fiche de ration </span>
                                <pe:inputNumber id="txt-marge_fiche_ration" value="#{managedParametre.stock.margeTimeFicheRation}" decimalPlaces="0" style="width: 30%" 
                                                disabled="#{!managedParametre.stock.activeRation}" symbol="h" symbolPosition="suffix"/>
                            </h:panelGrid>
                            <br/>
                            <h:panelGrid id="form_param_vente" columns="4" styleClass="yvs_table" style="width: 100%" cellpadding="0" cellspacing="0"> 
                                <f:facet name="header">
                                    <h:panelGrid columns="2" style="width: 100%">
                                        <span style="font-weight: bold">Paramètres Vente</span>
                                        <h:panelGroup style="float: right">
                                            <p:commandButton value="#{lab.L_supprimer}" id="delete_param_vente" global="false"
                                                             onclick="dlgConfirmDeleteParametreVente.show()" style="float: left"/>
                                            <p:commandButton value="#{lab.L_enregistrer}" update="form_param_vente"  icon="ui-icon-disk"
                                                             actionListener="#{managedParametre.saveNewVente()}" style="float: right"
                                                             oncomplete="collapseForm('param_vente')"/>
                                        </h:panelGroup>
                                    </h:panelGrid>  
                                </f:facet>
                                <span>#{lab.LC_PPG_max_jour_anterieur} </span>
                                <pe:inputNumber value="#{managedParametre.vente.jourAnterieur}" decimalPlaces="0" style="width: 30%"/>
                                <span>#{lab.LC_PPG_regler_si_non_valide} </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.vente.paieWithoutValide}"/>
                                <span>#{lab.LC_PPG_generer_facture_a_partir_contrat} </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.vente.genererFactureAuto}"/>
                                <span>#{lab.LC_PPG_vendre_a_prix_inferieur_prix_revient} </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.vente.sellLowerPr}"/>
                                <span>#{lab.LC_PPG_comptabilisation_auto}</span>
                                <h:panelGroup>                                    
                                    <h:selectBooleanCheckbox value="#{managedParametre.vente.comptabilisationAuto}" style="margin-top: 7px"/>
                                    <h:panelGroup style="float: right">         
                                        <span>#{lab.LC_PPG_mode} </span>
                                        <h:selectOneMenu value="#{managedParametre.vente.comptabilisationMode}">
                                            <f:selectItem itemLabel="#{lab.LC_PPG_par_document}" itemValue="D"/>
                                            <f:selectItem itemLabel="#{lab.LC_PPG_par_journal}" itemValue="H"/>
                                            <f:selectItem itemLabel="#{lab.LC_PPG_par_periode}" itemValue="P"/>
                                        </h:selectOneMenu>
                                    </h:panelGroup>
                                </h:panelGroup>
                                <span>Livrer les commandes non reglées </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.vente.livreBcvWithoutPaye}"/>
                                <span>Livrer les factures à la validation </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.vente.livraisonAuto}"/>
                                <span>Imprimer les documents validés </span>
                                <h:selectBooleanCheckbox value="#{managedParametre.vente.printDocumentWhenValide}"/>
                                <span>Donner le bonus quand la facture est</span>
                                <h:selectOneMenu value="#{managedParametre.vente.giveBonusInStatus}">
                                    <f:selectItem itemLabel="EDITABLE" itemValue="E"/>
                                    <f:selectItem itemLabel="VALIDE" itemValue="V"/>
                                    <f:selectItem itemLabel="REGLE" itemValue="R"/>
                                </h:selectOneMenu>
                                <f:facet name="footer">
                                    <p:outputPanel id="blog_model_facture_vente">
                                        <div style="overflow-y: auto;margin-top: 10px">
                                            <div style="float: left;width: 49.5%">
                                                <span style="margin-top: 10px">#{lab.LC_PPG_modele_facture_vente} </span>
                                                <h:panelGrid columns="2" styleClass="yvs_nostyle">
                                                    <h:panelGroup id="blog-model_facture_vente_v1">
                                                        <p:contextMenu for="model_facture_vente_v1">
                                                            <p:menuitem icon="ui-icon-extlink" value="Voir" actionListener="#{managedParametre.setModelFactureVente('facture_vente_v1')}"
                                                                        oncomplete="dlgModelFactureVente.show();" update=":main-model_fv:blog-view_model_fv"/>
                                                            <p:menuitem icon="ui-icon-gear" value="Configurer" actionListener="#{managedPrintFactureVente.loadAll('facture_vente_v1')}"
                                                                        oncomplete="dlgPrintFactureVente.show();" update=":main-model_fv:blog-view_model_fv"/>
                                                        </p:contextMenu>
                                                        <p:commandLink id="model_facture_vente_v1" style="margin-right: 10px" actionListener="#{managedParametre.vente.setModelFactureVente('facture_vente_v1')}" update="blog_model_facture_vente">
                                                            <h:graphicImage library="img" name="facture_vente_v1.PNG" width="200" height="200"/>
                                                            <div align="center">
                                                                <span style="font-weight: bold;font-size: 1.2em;color: #{managedParametre.vente.modelFactureVente eq 'facture_vente_v1'?'blue':'black'}">#{lab.LC_PPG_facture} N°1</span> 
                                                            </div>
                                                        </p:commandLink>
                                                    </h:panelGroup>
                                                    <h:panelGroup id="blog-model_facture_vente_v2">
                                                        <p:contextMenu for="model_facture_vente_v2">
                                                            <p:menuitem icon="ui-icon-extlink" value="Voir" actionListener="#{managedParametre.setModelFactureVente('facture_vente_v2')}"
                                                                        oncomplete="dlgModelFactureVente.show();" update=":main-model_fv:blog-view_model_fv"/>
                                                            <p:menuitem icon="ui-icon-gear" value="Configurer" actionListener="#{managedPrintFactureVente.loadAll('facture_vente_v2')}"
                                                                        oncomplete="dlgPrintFactureVente.show();" update=":main-model_fv:blog-view_model_fv"/>
                                                        </p:contextMenu>
                                                        <p:commandLink id="model_facture_vente_v2" actionListener="#{managedParametre.vente.setModelFactureVente('facture_vente_v2')}" update="blog_model_facture_vente">
                                                            <h:graphicImage library="img" name="facture_vente_v2.PNG" width="200" height="200"/>
                                                            <div align="center">
                                                                <span style="font-weight: bold;font-size: 1.2em;color: #{managedParametre.vente.modelFactureVente eq 'facture_vente_v2'?'blue':'black'}">#{lab.LC_PPG_facture} N°2</span>                                                    
                                                            </div>
                                                        </p:commandLink>
                                                    </h:panelGroup>
                                                </h:panelGrid>
                                            </div>
                                            <div style="margin-left: 50.5%;width: 49.5%">
                                                <span style="margin-top: 10px">Modèle de ticket de vente </span>
                                                <h:panelGrid columns="2" styleClass="yvs_nostyle">
                                                    <h:panelGroup id="blog-model_ticket_vente_v1">
                                                        <p:contextMenu for="model_ticket_vente_v1">
                                                            <p:menuitem icon="ui-icon-extlink" value="Voir" actionListener="#{managedParametre.setModelTicketVente('ticket_vente_v1')}"
                                                                        oncomplete="dlgModelTicketVente.show();" update=":main-model_fv:blog-view_model_tv"/>
                                                        </p:contextMenu>
                                                        <p:commandLink id="model_ticket_vente_v1" style="margin-right: 10px" actionListener="#{managedPrintTicketVente.loadAll('ticket_vente_v1')}"
                                                                       oncomplete="dlgPrintTicketVente.show();" update=":main-model_fv:blog-view_model_fv">
                                                            <h:graphicImage library="img" name="ticket_vente_v1.PNG" width="100" height="200"/>
                                                            <div align="center">
                                                                <span style="font-weight: bold;font-size: 1.2em;color: #{managedPrintTicketVente.model eq 'ticket_vente_v1'?'blue':'black'}">Ticket N°1</span> 
                                                            </div>
                                                        </p:commandLink>
                                                    </h:panelGroup>
                                                    <h:panelGroup id="blog-model_ticket_vente_v2">

                                                    </h:panelGroup>
                                                </h:panelGrid>
                                            </div>
                                        </div>
                                    </p:outputPanel> 
                                </f:facet>
                            </h:panelGrid>
                        </p:outputPanel>
                        <div style="clear: both"/>
                    </p:tab>
                    <p:tab title="#{lab.LC_PPG_categorie_four}">
                        <p:outputPanel id="blog_form_categorie_fournisseur">
                            <div style="float: left;width: 30%">
                                <h:panelGrid id="form_categorie_fournisseur" columns="2" style="width: 100%" styleClass="yvs_table" cellpadding="0" cellspacing="0">
                                    <span>#{lab.L_code} </span>
                                    <h:inputText value="#{categorieFournisseur.code}"/>
                                    <span>#{lab.L_libelle} </span>
                                    <h:inputText value="#{categorieFournisseur.libelle}"/>
                                    <span>#{lab.L_parent} </span>
                                    <h:selectOneMenu value="#{categorieFournisseur.parent.id}" id="select_categorie_parent_fsseur" style="min-width: 200px">
                                        <f:selectItem itemLabel="--" itemValue="0" noSelectionOption="true"/>
                                        <f:selectItems value="#{managedCategorieFsseur.categoriesParent}" var="catFsseur_" 
                                                       itemLabel="#{catFsseur_.libelle}" itemValue="#{catFsseur_.id}" />  
                                        <p:ajax event="valueChange" global="false" listener="#{managedCategorieFsseur.chooseParent()}"/>
                                    </h:selectOneMenu> 
                                    <f:facet name="footer">
                                        <span>#{lab.L_description} </span>
                                        <h:inputTextarea value="#{categorieFournisseur.description}" rows="5" style="width: 100%"/>
                                    </f:facet>
                                </h:panelGrid>                                
                                <div>
                                    <p:commandButton value="#{lab.L_nouveau}" update="form_categorie_fournisseur" global="false"
                                                     actionListener="#{managedCategorieFsseur.resetFiche()}" style="float: left"
                                                     oncomplete="collapseForm('categorie_fournisseur')"/>
                                    <p:commandButton value="#{lab.L_enregistrer}" update="data_categorie_fournisseur form_categorie_fournisseur" icon="ui-icon-disk"
                                                     actionListener="#{managedCategorieFsseur.saveNew()}" style="float: right"/>
                                </div>
                            </div>
                            <div style="margin-left: 31%;width: 69%">
                                <h:inputHidden id="input_hide_categorie_fournisseur" value="#{managedCategorieFsseur.tabIds}"/>
                                <p:dataTable id="data_categorie_fournisseur" value="#{managedCategorieFsseur.categories}" var="catFsseur"
                                             rowKey="#{catFsseur.id}" rowIndexVar="catFsseurIdx" selectionMode="single">
                                    <p:ajax event="rowSelect" global="false" listener="#{managedCategorieFsseur.loadOnView}" update=":main_param_com:tabview_param_com:form_categorie_fournisseur"/>
                                    <p:ajax event="rowUnselect" global="false" listener="#{managedCategorieFsseur.unLoadOnView}" update=":main_param_com:tabview_param_com:form_categorie_fournisseur"/>
                                    <p:column width="20" headerText="N°">
                                        <h:graphicImage library="img" name="redo.png" width="15" height="15" rendered="#{catFsseur.new_}"/>
                                        <span>#{catFsseurIdx+1}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_code}">
                                        <span>#{catFsseur.code}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_designation}">
                                        <span>#{catFsseur.libelle}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_parent}">
                                        <span>#{catFsseur.parent.libelle}</span>
                                    </p:column>
                                    <p:column width="20" style="text-align: center">             
                                        <p:contextMenu for="btn_option_categ_fsseur" event="left click" style="font-size: 0.8em">
                                            <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" global="false" actionListener="#{managedCategorieFsseur.deleteBean_(catFsseur)}" oncomplete="dlgConfirmDeleteCategorieFsseur_.show()"/>
                                        </p:contextMenu>                           
                                        <p:commandButton icon="ui-icon-gear" style="width: 22px; height: 22px" id="btn_option_categ_fsseur" type="button"/>
                                    </p:column> 
                                </p:dataTable>
                            </div>
                        </p:outputPanel>
                        <div style="clear: both"/>
                    </p:tab>
                    <p:tab title="#{lab.LC_PPG_categorie_compt}">
                        <p:outputPanel id="blog_form_categorie_comptable">
                            <div style="float: left;width: 30%">
                                <h:panelGrid id="form_categorie_comptable" columns="2" style="width: 100%" styleClass="yvs_table" cellpadding="0" cellspacing="0">
                                    <span title="#{lab.LC_PPG_code_appel}">#{lab.LC_PPG_appel}</span>
                                    <h:inputText value="#{categorieComptable.codeAppel}"/>
                                    <span>#{lab.L_code}</span>
                                    <h:inputText value="#{categorieComptable.codeCategorie}"/>
                                    <span>#{lab.L_designation}</span>
                                    <h:inputText value="#{categorieComptable.designation}"/>
                                    <span>#{lab.LC_PPG_nature}</span>
                                    <h:selectOneMenu value="#{categorieComptable.nature}">
                                        <f:selectItem itemLabel="#{constantes.ACHAT}" itemValue="#{constantes.ACHAT}"/>                       
                                        <f:selectItem itemLabel="#{constantes.VENTE}" itemValue="#{constantes.VENTE}"/>                       
                                        <f:selectItem itemLabel="#{constantes.STOCK}" itemValue="#{constantes.STOCK}"/>                       
                                        <f:selectItem itemLabel="#{constantes.VSTOCK}" itemValue="#{constantes.VSTOCK}"/>                       
                                        <f:selectItem itemLabel="#{constantes.AUTRE}" itemValue="#{constantes.AUTRE}"/>                       
                                    </h:selectOneMenu> 
                                    <f:facet name="footer">
                                        <p:selectBooleanCheckbox value="#{categorieComptable.venteOnline}" itemLabel="#{lab.LC_PPG_vente_ligne} " style="float: right" rendered="#{managedCatCompt.currentScte.venteOnline}"/>
                                    </f:facet>
                                </h:panelGrid>
                                <div>
                                    <p:commandButton value="#{lab.L_nouveau}" update="form_categorie_comptable" global="false"
                                                     actionListener="#{managedCatCompt.resetFiche()}" style="float: left"
                                                     oncomplete="collapseForm('categorie_comptable')"/>
                                    <p:commandButton value="#{lab.L_enregistrer}" update="form_categorie_comptable data_categorie_comptable" icon="ui-icon-disk"
                                                     actionListener="#{managedCatCompt.saveNew()}" style="float: right"/>
                                </div>
                            </div>
                            <div style="margin-left: 31%; width: 69%">
                                <h:inputHidden id="input_hide_categorie_comptable" value="#{managedCatCompt.tabIds}"/>
                                <p:dataTable id="data_categorie_comptable" value="#{managedCatCompt.categories}" var="catCo"
                                             rowKey="#{catCo.id}" rowIndexVar="catCoIdx" selectionMode="single">
                                    <p:ajax event="rowSelect" global="false" listener="#{managedCatCompt.loadOnView}" update=":main_param_com:tabview_param_com:form_categorie_comptable"/>
                                    <p:ajax event="rowUnselect" global="false" listener="#{managedCatCompt.unLoadOnView}" update=":main_param_com:tabview_param_com:form_categorie_comptable"/>
                                    <p:column width="20" headerText="N°">
                                        <span>#{catCoIdx+1}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_code}">
                                        <span>#{catCo.code}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_designation}">
                                        <span>#{catCo.designation}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.LC_PPG_nature}">
                                        <span>#{catCo.nature}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_actif}" style="width: 10%;text-align: center">
                                        <p:commandLink style="margin-top: 5px" title="#{(catCo.actif)?'Desactiver':'Activer'}" global="false" actionListener="#{managedCatCompt.activeCategorie(catCo)}"
                                                       update="data_categorie_comptable">
                                            <h:graphicImage library="img"  name="#{(catCo.actif)?'yes.png':'no.png'}" width="15" height="15"/>
                                        </p:commandLink>
                                    </p:column>
                                    <p:column width="20" style="text-align: center">                              
                                        <p:contextMenu for="btn_option_catego_compt" event="left click" style="font-size: 0.8em">
                                            <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" global="false" actionListener="#{managedCatCompt.deleteBean_(catCo)}" oncomplete="dlgConfirmDeleteCategorieComptable_.show()"/>
                                        </p:contextMenu>                           
                                        <p:commandButton icon="ui-icon-gear" style="width: 22px; height: 22px" id="btn_option_catego_compt" type="button"/>
                                    </p:column> 
                                </p:dataTable>
                            </div>
                        </p:outputPanel>
                        <div style="clear: both"/>
                    </p:tab>
                    <p:tab title="#{lab.LC_PPG_qualites}">
                        <p:outputPanel id="blog_form_qualite">
                            <div style="float: left;width: 30%">
                                <h:panelGrid id="form_qualite" columns="2" style="width: 100%" styleClass="yvs_table" cellpadding="0" cellspacing="0">
                                    <span>#{lab.L_code}</span>
                                    <h:inputText value="#{qualite.code}"/>
                                    <span>#{lab.L_designation}</span>
                                    <h:inputText value="#{qualite.libelle}"/>
                                </h:panelGrid>
                                <div>
                                    <p:commandButton value="#{lab.L_nouveau}" update="form_qualite" global="false"
                                                     actionListener="#{managedQualite.resetFiche()}" style="float: left"
                                                     oncomplete="collapseForm('qualite')"/>
                                    <p:commandButton value="#{lab.L_enregistrer}" update="form_qualite data_qualite" icon="ui-icon-disk"
                                                     actionListener="#{managedQualite.saveNew()}" style="float: right"/>
                                </div>
                            </div>
                            <div style="margin-left: 31%; width: 69%">
                                <h:inputHidden id="input_hide_qualite" value="#{managedQualite.tabIds}"/>
                                <p:dataTable id="data_qualite" value="#{managedQualite.qualites}" var="quali"
                                             rowKey="#{quali.id}" rowIndexVar="quIdx" selectionMode="single">
                                    <p:ajax event="rowSelect" global="false" listener="#{managedQualite.loadOnView}" update=":main_param_com:tabview_param_com:form_qualite"/>
                                    <p:ajax event="rowUnselect" global="false" listener="#{managedQualite.unLoadOnView}" update=":main_param_com:tabview_param_com:form_qualite"/>
                                    <p:column width="20" headerText="N°">
                                        <span>#{quIdx+1}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_code}">
                                        <span>#{quali.code}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_designation}">
                                        <span>#{quali.libelle}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_actif}" style="width: 10%;text-align: center">
                                        <p:commandLink style="margin-top: 5px" title="#{(quali.actif)?'Desactiver':'Activer'}" global="false" actionListener="#{managedQualite.active(quali)}"
                                                       update="data_qualite">
                                            <h:graphicImage library="img"  name="#{(quali.actif)?'yes.png':'no.png'}" width="15" height="15"/>
                                        </p:commandLink>
                                    </p:column>
                                    <p:column width="20" style="text-align: center">                              
                                        <p:contextMenu for="btn_option_qualite" event="left click" style="font-size: 0.8em">
                                            <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" global="false" actionListener="#{managedQualite.deleteBean_(quali)}" oncomplete="dlgConfirmDeleteQualite_.show()"/>
                                        </p:contextMenu>                           
                                        <p:commandButton icon="ui-icon-gear" style="width: 22px; height: 22px" id="btn_option_qualite" type="button"/>
                                    </p:column> 
                                </p:dataTable>
                            </div>
                        </p:outputPanel>
                        <div style="clear: both"/>
                    </p:tab>
                    <p:tab title="#{lab.LC_PPG_critere_lot}">
                        <p:outputPanel id="blog_form_critere_lot">
                            <div style="float: left;width: 30%">
                                <h:panelGrid id="form_critere_lot" columns="1" styleClass="yvs_table" style="width: 100%" cellpadding="0" cellspacing="0">
                                    <f:facet name="header">
                                        <div align="right">
                                            <span>#{lab.LC_PPG_comparable} </span>
                                            <h:selectBooleanCheckbox value="#{critereLot.comparable}"/>                                            
                                        </div>
                                    </f:facet>
                                    <span>#{lab.LC_PPG_valeur} </span>
                                    <h:inputText value="#{critereLot.valeur}" style="width: 100%"/>
                                    <f:facet name="footer">
                                        <span>#{lab.L_description} </span>
                                        <h:inputTextarea value="#{critereLot.description}" rows="5" style="width: 100%"/>
                                    </f:facet>
                                </h:panelGrid>
                                <div>
                                    <p:commandButton value="#{lab.L_nouveau}" update="form_critere_lot" global="false"
                                                     actionListener="#{managedCritereLot.resetFiche()}" style="float: left"
                                                     oncomplete="collapseForm('critere_lot')"/>
                                    <p:commandButton value="#{lab.L_enregistrer}" update="form_critere_lot data_critere_lot" icon="ui-icon-disk"
                                                     actionListener="#{managedCritereLot.saveNew()}" style="float: right"/>
                                </div>
                            </div>
                            <div style="margin-left:31%;width: 69%">
                                <h:inputHidden id="input_hide_critere_lot" value="#{managedCritereLot.tabIds}"/>
                                <p:dataTable id="data_critere_lot" value="#{managedCritereLot.criteres}" var="criter"
                                             rowKey="#{criter.id}" rowIndexVar="criterIdx" selectionMode="single">
                                    <p:ajax event="rowSelect" global="false" listener="#{managedCritereLot.loadOnView}" update=":main_param_com:tabview_param_com:form_critere_lot"/>
                                    <p:ajax event="rowUnselect" global="false" listener="#{managedCritereLot.unLoadOnView}" update=":main_param_com:tabview_param_com:form_critere_lot"/>
                                    <p:column width="20" headerText="N°">
                                        <h:graphicImage library="img" name="redo.png" width="15" height="15" rendered="#{criter.new_}"/>
                                        <span>#{criterIdx+1}</span>
                                    </p:column>
                                    <p:column headerText="#{critereLot.valeur}">
                                        <span>#{criter.valeur}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.LC_PPG_comp}" style="width: 10%;text-align: center">
                                        <p:commandLink style="margin-top: 5px" title="#{(criter.comparable)?'Desactiver':'Activer'}" global="false" actionListener="#{managedCritereLot.activeComparable(criter)}"
                                                       update="data_critere_lot">
                                            <h:graphicImage library="img"  name="#{(criter.comparable)?'yes.png':'no.png'}" width="15" height="15"/>
                                        </p:commandLink>
                                    </p:column>
                                    <p:column headerText="#{lab.L_actif}" style="width: 10%;text-align: center">
                                        <p:commandLink style="margin-top: 5px" title="#{(criter.actif)?'Desactiver':'Activer'}" global="false" actionListener="#{managedCritereLot.activeCritere(criter)}"
                                                       update="data_critere_lot">
                                            <h:graphicImage library="img"  name="#{(criter.actif)?'yes.png':'no.png'}" width="15" height="15"/>
                                        </p:commandLink>
                                    </p:column>
                                    <p:column width="20" style="text-align: center">                                       
                                        <p:contextMenu for="btn_option_critere_lot" event="left click" style="font-size: 0.8em">
                                            <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" global="false" actionListener="#{managedCritereLot.deleteBean_(criter)}" oncomplete="dlgConfirmDeleteCritere_.show()"/>
                                        </p:contextMenu>                           
                                        <p:commandButton icon="ui-icon-gear" style="width: 22px; height: 22px" id="btn_option_critere_lot" type="button"/>
                                    </p:column> 
                                </p:dataTable>
                            </div>
                        </p:outputPanel>
                        <div style="clear: both"/>
                    </p:tab>
                    <p:tab title="#{lab.LC_PPG_lot_reception}">
                        <p:outputPanel id="blog_form_lot_reception">
                            <div style="float: left;width: 30%">
                                <p:outputPanel id="blog_lot_reception">
                                    <ui:include src="lot_reception/form.xhtml" /> 
                                    <div>
                                        <p:commandButton value="#{lab.L_nouveau}" icon="ui-icon-document" actionListener="#{managedLotReception.resetFiche()}" style="float: left"/>
                                        <p:commandButton value="#{lab.L_enregistrer}" icon="ui-icon-disk" actionListener="#{managedLotReception.saveNew()}" style="float: right"/>
                                    </div>
                                </p:outputPanel>
                            </div>
                            <div style="margin-left:31%;width: 69%;max-height: 500px;overflow-y: auto">
                                <h:inputHidden id="input_hide_lot_reception" value="#{managedLotReception.tabIds}"/>
                                <p:dataTable id="data_lot_reception" value="#{managedLotReception.lots}" var="lotr"
                                             rowKey="#{lotr.id}" rowIndexVar="criterIdx" selectionMode="single">
                                    <p:ajax event="rowSelect" global="false" listener="#{managedLotReception.loadOnView}" update=":main_param_com:tabview_param_com:form_lot_reception"/>
                                    <p:ajax event="rowUnselect" global="false" listener="#{managedLotReception.unLoadOnView}" update=":main_param_com:tabview_param_com:form_lot_reception"/>
                                    <p:column width="20" headerText="N°">
                                        <h:graphicImage library="img" name="redo.png" width="15" height="15" rendered="#{lotr.new_}"/>
                                        <span>#{criterIdx+1}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_numero}" style="width: 12%">
                                        <span>#{lotr.numero}</span>
                                    </p:column>
                                    <p:column headerText="Article">
                                        <span>#{lotr.article.designation}</span>
                                    </p:column>
                                    <p:column headerText="Date de fabrication" style="width: 15%;text-align: center">
                                        <h:outputText value="#{lotr.dateFabrication}" converter="DATE"/>
                                    </p:column>
                                    <p:column headerText="Date d'expiration" style="width: 15%;text-align: center">
                                        <h:outputText value="#{lotr.dateExpiration}" converter="DATE"/>
                                    </p:column>
                                    <p:column headerText="Statut" style="width: 12%;text-align: center">
                                        <h:outputText value="#{lotr.statut eq 'V'?'VALIDE':lotr.statut eq 'S'?'SUSPENDU':'INTERMEDIAIRE'}"/>
                                    </p:column>
                                    <p:column width="20" headerText="#{lab.L_actif}" style="text-align: center">
                                        <p:commandLink style="margin-top: 5px" title="#{(lotr.actif)?'Desactiver':'Activer'}" global="false" actionListener="#{managedLotReception.activeLot(lotr)}" update="data_lot_reception">
                                            <h:graphicImage library="img"  name="#{(lotr.actif)?'yes.png':'no.png'}" width="15" height="15"/>
                                        </p:commandLink>
                                    </p:column>
                                    <p:column width="20" style="text-align: center">                                       
                                        <p:contextMenu for="btn_option_lot_reception" event="left click" style="font-size: 0.8em">
                                            <p:menuitem value="#{(lotr.actif)?'Desactiver':'Activer'}" icon="#{(lotr.actif)?'ui-icon-cancel':'ui-icon-check'}" actionListener="#{managedLotReception.activeLot(lotr)}"
                                                        update=":main_param_com:tabview_param_com:data_lot_reception"/>
                                            <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" global="false" actionListener="#{managedLotReception.deleteBean_(lotr)}" oncomplete="dlgConfirmDeleteLotReception_.show()"/>
                                        </p:contextMenu>                           
                                        <p:commandButton icon="ui-icon-gear" style="width: 22px; height: 22px" id="btn_option_lot_reception" type="button"/>
                                    </p:column> 
                                </p:dataTable>
                                <h:panelGrid id="blog_search_lot_reception" columns="5" cellpadding="0" cellspacing="0" style="float:left;font-size: 0.8em">
                                    <h:outputText value="" />                                    
                                    <h:panelGroup>
                                        <h:selectBooleanCheckbox value="#{managedLotReception.dateSearch}">
                                            <p:ajax event="valueChange" listener="#{managedLotReception.addParamDates()}" update="blog_date_search_lot_reception"/>
                                        </h:selectBooleanCheckbox>
                                        <h:outputText value="#{lab.L_date}" />
                                    </h:panelGroup>
                                    <h:outputText value="Actif" />    
                                    <h:outputText value="Numéro" />    
                                    <h:outputText value="Article" />    
                                    <p:commandButton icon="ui-icon-bullet" update="blog_search_lot_reception" style="width: 22px; height: 22px" actionListener="#{managedLotReception.clearParams()}"/>
                                    <h:panelGroup id="blog_date_search_lot_reception">
                                        <p:calendar value="#{managedLotReception.dateDebutSearch}" navigator="true" pattern="dd-MM-yyyy" disabled="#{!managedLotReception.dateSearch}" size="10" style="font-size: 0.8em">
                                            <p:ajax event="dateSelect" listener="#{managedLotReception.addParamDates()}"/>
                                        </p:calendar>
                                        <p:spacer width="5px" style="background: black"/>
                                        <p:calendar value="#{managedLotReception.dateFinSearch}" navigator="true" pattern="dd-MM-yyyy" disabled="#{!managedLotReception.dateSearch}" size="10" style="font-size: 0.8em">
                                            <p:ajax event="dateSelect" listener="#{managedLotReception.addParamDates()}"/>
                                        </p:calendar>
                                    </h:panelGroup>
                                    <h:selectOneMenu value="#{managedLotReception.actifSearch}" style="min-width: 120px">
                                        <f:selectItem itemLabel="#{lab.L_tout}" itemValue="#{null}"/>
                                        <f:selectItem itemLabel="#{lab.L_oui}" itemValue="#{true}"/>
                                        <f:selectItem itemLabel="#{lab.L_non}" itemValue="#{false}"/>
                                        <p:ajax event="valueChange" listener="#{managedLotReception.addParamActif()}"/>
                                    </h:selectOneMenu>
                                    <h:inputText value="#{managedLotReception.referenceSearch}">
                                        <p:ajax event="valueChange" listener="#{managedLotReception.addParamNumero()}"/>
                                    </h:inputText>
                                    <h:inputText value="#{managedLotReception.articleSearch}">
                                        <p:ajax event="valueChange" listener="#{managedLotReception.addParamArticle()}"/>
                                    </h:inputText>
                                </h:panelGrid>
                                <p:outputPanel autoUpdate="true" style="float: right" layout="block">
                                    <p:commandButton actionListener="#{managedLotReception.loadAll(false, false)}" icon="ui-icon-circle-triangle-w" disabled="#{managedLotReception.paginator.disPrev}"/>
                                    <p:outputPanel >
                                        <p:inplace label="#{managedLotReception.paginator.currentPage}" style="margin-top: 15px; font-size: 0.8em; font-weight: bold">
                                            <pe:inputNumber value="#{managedLotReception.paginator.gotoPage}" style="width: 30px;text-align: center" decimalPlaces="0">
                                                <p:ajax event="blur" listener="#{managedLotReception.gotoPagePaginator()}" update="tabview_param_com:data_lot_reception"/>
                                            </pe:inputNumber>
                                        </p:inplace><p:outputLabel value="/#{managedLotReception.paginator.nbPage}" style="margin-top: 15px; font-size: 0.8em; font-weight: bold" />
                                    </p:outputPanel>
                                    <p:commandButton actionListener="#{managedLotReception.loadAll(true, false)}" icon="ui-icon-circle-triangle-e" disabled="#{managedLotReception.paginator.disNext}"/>
                                    <p:selectOneMenu value="#{managedLotReception.nbMax}" label="Nombre max Résultat" valueChangeListener="#{managedLotReception.choosePaginator}" style="float: right; font-size: 0.9em;margin-top: 3px;min-width: 50px" >
                                        <f:selectItems value="#{managedLotReception.paginations}"/>
                                        <p:ajax event="valueChange"/>
                                    </p:selectOneMenu>
                                </p:outputPanel> 
                            </div>
                        </p:outputPanel>
                        <div style="clear: both"/>
                    </p:tab>
                    <p:tab title="#{lab.LC_PPG_model_reglement}">
                        <p:outputPanel id="blog_form_model_reglement">
                            <div style="float: left;width: 30%">
                                <p:outputPanel id="form_model_reglement">
                                    <h:panelGrid columns="2" style="width: 100%" styleClass="yvs_table" cellpadding="0" cellspacing="0">
                                        <span>#{lab.L_reference} </span>
                                        <h:inputText value="#{managedModeReglement.model.designation}" style="width: 100%"/>
                                        <span>#{lab.LC_PCOM_cible}</span>
                                        <h:selectOneMenu value="#{managedModeReglement.model.type}" style="width: 100%">
                                            <f:selectItem itemLabel="#{lab.LC_PPG_fournisseur}" itemValue="F"/>                       
                                            <f:selectItem itemLabel="#{lab.LC_PPG_client}" itemValue="C"/>                       
                                            <f:selectItem itemLabel="#{lab.LC_PPG_autre}" itemValue="A"/>                       
                                            <f:selectItem itemLabel="#{lab.LC_PPG_mixte}" itemValue="M"/>                      
                                        </h:selectOneMenu> 
                                        <h:outputText value="#{lab.LDB_PCB_code_acces}"/>
                                        <h:inputText value="#{managedModeReglement.model.codeAcces}" style="background: #99ccff;width: 100%">
                                            <p:ajax event="valueChange" global="false" />
                                        </h:inputText>
                                        <f:facet name="footer">
                                            <p:selectBooleanCheckbox itemLabel="#{lab.LC_PCOM_paiement_comptant}" value="#{managedModeReglement.model.payeBeforeValide}" style="float: right;padding: 5px"/>
                                            <span>#{lab.L_description} </span>
                                            <h:inputTextarea value="#{managedModeReglement.model.description}" rows="5" style="width: 100%"/>                                            
                                        </f:facet>
                                    </h:panelGrid>
                                </p:outputPanel>
                                <div>
                                    <p:commandButton value="#{lab.L_nouveau}" update="form_model_reglement" global="false"
                                                     actionListener="#{managedModeReglement.resetFicheModel()}" style="float: left"
                                                     oncomplete="collapseForm('model_reglement')"/>
                                    <p:commandButton value="#{lab.L_enregistrer}" update="form_model_reglement data_model_reglement" icon="ui-icon-disk"
                                                     actionListener="#{managedModeReglement.saveNewModel()}" style="float: right"/>
                                </div>
                            </div>
                            <div style="margin-left:31%;width: 69%">
                                <h:inputHidden id="input_hide_model_reglement" value="#{managedModeReglement.tablIds}"/>
                                <p:dataTable id="data_model_reglement" value="#{managedModeReglement.models}" var="model"
                                             rowKey="#{model.id}" rowIndexVar="modeIdx" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{managedModeReglement._loadOnView}" update=":main_param_com:tabview_param_com:form_model_reglement"/>
                                    <p:ajax event="rowUnselect" listener="#{managedModeReglement._unLoadOnView}" update=":main_param_com:tabview_param_com:form_model_reglement"/>
                                    <p:column width="20" headerText="N°">
                                        <h:graphicImage library="img" name="redo.png" width="15" height="15" rendered="#{model.new_}"/>
                                        <span>#{modeIdx+1}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.LC_PPG_valeur}">
                                        <span>#{model.reference}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_type}" style="width: 30%">
                                        <span>#{model.nameType}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_actif}" style="width: 10%;text-align: center">
                                        <p:commandLink style="margin-top: 5px" title="#{(model.actif)?'Desactiver':'Activer'}" global="false" actionListener="#{managedModeReglement.activeModel(model)}"
                                                       update="data_model_reglement">
                                            <h:graphicImage library="img"  name="#{(model.actif)?'yes.png':'no.png'}" width="15" height="15"/>
                                        </p:commandLink>
                                    </p:column>
                                    <p:column style="width: 30px;text-align: center">
                                        <h:graphicImage title="#{(model.payeBeforeValide)?'Paiement au comptant':''}" library="img" name="#{(model.payeBeforeValide)?'vu.png':'vu_non.png'}" width="15" height="15"/>
                                    </p:column>
                                    <p:column width="20" style="text-align: center">                                          
                                        <p:contextMenu for="btn_option_mode_regl" event="left click" style="font-size: 0.8em">
                                            <p:menuitem value="#{lab.LC_PPG_tranches}" icon="ui-icon-newwin" global="false" actionListener="#{managedModeReglement.initTranche(model)}" oncomplete="dlgTrancheModel.show();collapseForm('tranche_model_reglement')"/>
                                            <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" global="false" actionListener="#{managedModeReglement.deleteBeanModel_(model)}" oncomplete="_dlgConfirmDeleteMode_.show()"/>
                                        </p:contextMenu>                           
                                        <p:commandButton icon="ui-icon-gear" style="width: 22px; height: 22px" id="btn_option_mode_regl" type="button"/>
                                    </p:column> 
                                </p:dataTable>
                            </div>
                        </p:outputPanel>
                        <div style="clear: both"/>
                    </p:tab>
                    <p:tab title="#{lab.LC_PPG_mode_paiement}">
                        <div class="dlg_part_fixe">
                            <p:splitButton value="#{lab.L_enregistrer}" actionListener="#{managedModeReglement.saveNew()}" 
                                           update="form_mode_paiement_vente table_mod_reg_actif" icon="ui-icon-disk">
                                <p:menuitem value="#{lab.L_nouveau}" actionListener="#{managedModeReglement.resetFiche()}" update="form_mode_paiement_vente"
                                            icon="ui-icon-document" />
                                <p:separator />
                                <p:menuitem value="#{lab.L_fusionner}" actionListener="#{managedModeReglement.fusionnerUnite(true)}" oncomplete="dlgConfirmFusion_mdp.show()" 
                                            update=":form_dlg_fusionneMDP:blog_fusionner_mdp"/>
                            </p:splitButton>
                            <div style="float: right">
                                <h:link title="#{lab.L_mode_creation}" onclick="collapseForm('mode_reglement');
                                        return false">
                                    <p:graphicImage library="icones" name="newDoc.png" width="18" height="25" style="border: 2px solid #666; border-radius: 5px;"/>
                                </h:link>               
                                <p:spacer />
                                <h:link title="#{lab.L_mode_liste}" onclick="collapseList('mode_reglement');
                                        return false" >
                                    <p:graphicImage library="icones" name="ico_formulaire.png" width="18" height="25" style="border: 2px solid #666; border-radius: 5px;"/>
                                </h:link>   
                            </div>
                            <p:separator />.0
                        </div>
                        <div class="dlg_part_scroll">
                            <div class="yvs_form_mode_reglement">
                                <h:panelGrid id="form_mode_paiement_vente" columns="1" styleClass="yvs_nostyle" cellpadding="0" cellspacing="0" style="width: 100%; font-size: 0.9em">
                                    <f:facet name="header">
                                        <h:panelGrid columns="6" styleClass="yvs_nostyle" cellpadding="0" cellspacing="0">
                                            <h:outputText value="#{lab.L_designation}"/>
                                            <h:outputText value="#{lab.LC_PPG_type}"/>
                                            <h:outputText value="#{lab.LC_PPG_code_paiement}"/>
                                            <h:outputText value="#{lab.LC_PPG_numero_marchand}"/>
                                            <h:outputText value=""/>
                                            <h:outputText value=""/>
                                            <h:inputText value="#{managedModeReglement.mode.designation}" >
                                                <p:ajax global="false" />   
                                            </h:inputText>
                                            <h:selectOneMenu value="#{managedModeReglement.mode.typeReglement}" >
                                                <f:selectItem itemValue="#{constantes.MODE_PAIEMENT_ESPECE}" itemLabel="#{constantes.MODE_PAIEMENT_ESPECE}" />
                                                <f:selectItem itemValue="#{constantes.MODE_PAIEMENT_BANQUE}" itemLabel="#{constantes.MODE_PAIEMENT_BANQUE}" />
                                                <f:selectItem itemValue="#{constantes.MODE_PAIEMENT_SALAIRE}" itemLabel="#{constantes.MODE_PAIEMENT_SALAIRE}" />
                                                <f:selectItem itemValue="#{constantes.MODE_PAIEMENT_COMPENSATION}" itemLabel="#{constantes.MODE_PAIEMENT_COMPENSATION}" />
                                                <p:ajax event="valueChange" update="form_mode_paiement_vente" />
                                            </h:selectOneMenu>
                                            <h:selectOneMenu value="#{managedModeReglement.mode.codePaiement}" disabled="#{managedModeReglement.mode.typeReglement ne constantes.MODE_PAIEMENT_ESPECE}">
                                                <f:selectItem itemValue="#{constantes.CODE_PAIEMENT_AUTRE}" itemLabel="#{lab.LC_PPG_autre}" />
                                                <f:selectItem itemValue="#{constantes.CODE_PAIEMENT_ORANGE_MONEY}" itemLabel="#{lab.LC_PPG_OM}" />
                                                <f:selectItem itemValue="#{constantes.CODE_PAIEMENT_MOBILE_MONEY}" itemLabel="#{lab.LC_PPG_MM}" />
                                                <f:selectItem itemValue="#{constantes.CODE_PAIEMENT_VISA}" itemLabel="#{lab.LC_PPG_visa}" />
                                                <p:ajax event="valueChange" update="form_mode_paiement_vente" />
                                            </h:selectOneMenu>                                        
                                            <h:inputText value="#{managedModeReglement.mode.numeroMarchand}" disabled="#{managedModeReglement.mode.codePaiement eq constantes.CODE_PAIEMENT_AUTRE}" >
                                                <p:ajax event="keyup" global="false" update=":main_param_com:tabview_param_com:tab-paiement:form-key_marchand_paiement"/>   
                                            </h:inputText>
                                            <p:selectBooleanCheckbox value="#{managedModeReglement.mode.defaut}" itemLabel="#{lab.L_defaut}"/>  
                                            <p:selectBooleanCheckbox value="#{managedModeReglement.mode.visibleOnPrintVente}" itemLabel="Visible sur l'etat des ventes"/>  
                                        </h:panelGrid>     
                                    </f:facet>
                                    <h:panelGroup>
                                        <div style="background: #bbb">                                            
                                            <span style="font-size: 1em; color: #045491; font-weight: bold">#{managedModeReglement.mode.designation}</span>
                                        </div>
                                        <p:tabView id="tab-paiement" rendered="#{managedModeReglement.mode.typeReglement eq constantes.MODE_PAIEMENT_BANQUE or managedModeReglement.mode.codePaiement ne constantes.CODE_PAIEMENT_AUTRE}">
                                            <p:tab title="#{lab.LC_PPG_phase_cheque}" rendered="#{managedModeReglement.mode.typeReglement==constantes.MODE_PAIEMENT_BANQUE}">
                                                <p:outputPanel id="panel_phase_mod_reg" style="clear: right; margin-top: 10px">                                
                                                    <h:panelGrid columns="2" styleClass="yvs_table" style="font-size: 0.9em;" id="form_edit_phase_reg" cellpadding="0" cellspacing="0" >
                                                        <span>#{lab.LC_PPG_n_phase}</span>
                                                        <h:inputText value="#{managedModeReglement.phase.numeroPhase}" style="width: 60px"/>
                                                        <span>#{lab.LC_PPG_phase}</span>
                                                        <h:inputText value="#{managedModeReglement.phase.phase}" />                                                
                                                        <span>#{lab.LC_PPG_execution}</span>
                                                        <p:selectOneRadio value="#{managedModeReglement.phase.actionInBanque}">
                                                            <f:selectItem itemLabel="#{lab.LC_PPG_caisse}" itemValue="#{false}"/>
                                                            <f:selectItem itemLabel="#{lab.LC_PPG_banque}" itemValue="#{true}"/>
                                                        </p:selectOneRadio>                                           
                                                        <f:facet name="footer">
                                                            <div align="left" style="width: 100%">                                                                                                                                                                    
                                                                <div style="float: right; width: 100%;background: #EEE; padding: 5px">
                                                                    <span style="font-weight: bold; font-size: 0.9em;">#{lab.LC_PPG_comptabiliser_phase}</span>
                                                                    <span style="float: right; display: inline-block"><span>#{lab.LC_PPG_reglement_ok}</span>
                                                                        <h:selectBooleanCheckbox  value="#{managedModeReglement.phase.reglementOk}" title="#{lab.LC_PPG_text8}" /></span>
                                                                </div>
                                                                <h:panelGrid styleClass="yvs_table" id="chmp_compteGen_param_modr" cellpadding="0" cellspacing="0" columns="2"
                                                                             style="clear: right">
                                                                    <span>#{lab.LC_PPG_code_comptable}</span>
                                                                    <h:inputText value="#{managedModeReglement.phase.codeComptable}"  />
                                                                    <span style="font-weight: bold; font-size: 0.9em">#{lab.LC_PPG_libelle_imputation_comptable}</span>
                                                                    <h:inputText style="font-weight: bold; font-size: 0.9em" value="#{managedModeReglement.phase.libellePhase}"/>
                                                                </h:panelGrid>                                                        
                                                                <p:commandButton value="#{lab.L_enregistrer}" icon="ui-icon-circle-plus"  update=":main_param_com:tabview_param_com:tab-paiement:form_edit_phase_reg"
                                                                                 actionListener="#{managedModeReglement.createnewPhaseReg()}" style="float: right"/> 
                                                            </div>
                                                        </f:facet>                                                
                                                    </h:panelGrid> 
                                                    <p:dataTable value="#{managedModeReglement.mode.phases}" var="phas"  rowKey="#{phas.id}" selectionMode="single" rowIndexVar="line_ModP"
                                                                 id="table_phase_mode_reg" rendered="#{managedModeReglement.mode.typeReglement==constantes.MODE_PAIEMENT_BANQUE}">
                                                        <p:ajax event="rowSelect" listener="#{managedModeReglement.selectionePhase}"/>
                                                        <p:column headerText="#{lab.L_numero}" style="text-align: center" width="20">
                                                            #{phas.numeroPhase}
                                                        </p:column>
                                                        <p:column headerText="#{lab.LC_PPG_phases}">
                                                            #{phas.phase}
                                                        </p:column> 
                                                        <p:column headerText="#{lab.LC_PPG_code_comptable}">
                                                            <span style="font-weight: bold">#{phas.codeComptable}</span>                                                    
                                                            <h:panelGroup style="float: right;font-style: italic">
                                                                <span>#{lab.LC_PPG_pour} : </span>
                                                                <span style="color: blue">#{phas.forEmission?'Emission':'Reception'}</span>
                                                            </h:panelGroup>
                                                        </p:column> 
                                                        <p:column headerText="#{lab.LC_PPG_execution} " width="25" style="text-align: center">
                                                            <span>#{phas.actionInBanque?'BANQUE':'CAISSE'}</span>
                                                        </p:column> 
                                                        <p:column headerText="#{lab.L_actif}" width="25" style="text-align: center">
                                                            <h:graphicImage library="img" name="#{phas.actif?'vu.png':'vu_non.png'}" width="20" height="20" />
                                                        </p:column>
                                                        <p:column headerText="#{lab.LC_PPG_valid_r}" width="25" style="text-align: center">
                                                            <h:graphicImage library="img" name="#{phas.reglementOk?'vu.png':'vu_non.png'}" width="20" height="20" title="#{phas.reglementOk?'A cette phase, le compte du tiers est mouvementé':'A cette phase, le compte du tiers n\'est pas encore mouvementé'}"/>
                                                        </p:column>
                                                        <p:column headerText="#{lab.LC_PPG_autorisation} " width="60" style="text-align: center">
                                                            <p:commandButton  icon="ui-icon-key" actionListener="#{managedModeReglement.choixLineEtape(phas)}" title="#{lab.LC_PPG_text9}" style="width: 22px; height: 22px"/>
                                                        </p:column>
                                                        <p:column headerText="" width="20" style="text-align: center">
                                                            <p:contextMenu for="opt_del_phas_modeR" event="left click" style="font-size: 0.9em" styleClass="context_menu">
                                                                <p:menuitem value="#{phas.reglementOk?'Off Régler':'On Régler'}" icon="#{phas.reglementOk?'ui-icon-circle-close':'ui-icon-circle-check'}"
                                                                            actionListener="#{managedModeReglement.toogleActiveReglementOk(phas)}" update="table_phase_mode_reg"/> 
                                                                <p:menuitem value="#{phas.forEmission?'Pour reception':'Pour emission'}" icon="#{phas.forEmission?'ui-icon-circle-arrow-e':'ui-icon-circle-arrow-w'}"
                                                                            actionListener="#{managedModeReglement.toogleActiveForEmission(phas)}" update="table_phase_mode_reg"/> 
                                                                <p:menuitem value="#{phas.actif?'Désactiver':'Activer'}" icon="#{phas.actif?'ui-icon-circle-close':'ui-icon-circle-check'}" actionListener="#{managedModeReglement.toogleActivePhase(phas)}" 
                                                                            update="table_phase_mode_reg"/>
                                                                <p:separator />
                                                                <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" update="table_phase_mode_reg" actionListener="#{managedModeReglement.deletePhase(phas)}" />                                             
                                                            </p:contextMenu>
                                                            <p:commandButton type="button" id="opt_del_phas_modeR" icon="ui-icon-gear" style="width: 22px; height: 22px"/>
                                                        </p:column>                                                
                                                    </p:dataTable> 
                                                </p:outputPanel>
                                            </p:tab>
                                            <p:tab title="#{lab.LC_PPG_code_marchand}" rendered="#{managedModeReglement.mode.codePaiement!=constantes.CODE_PAIEMENT_AUTRE}">
                                                <h:panelGrid id="form-key_marchand_paiement" columns="5" styleClass="yvs_nostyle">
                                                    <h:outputText value="#{lab.LDB_PTT_numero}"/>     
                                                    <h:outputText value="Pin"/>     
                                                    <h:outputText value="#{lab.LC_PPG_entete_autorisation}"/>     
                                                    <h:outputText value="#{lab.LC_PPG_cle_marchand}"/>  
                                                    <h:outputText value="#{lab.LC_PPG_devise}"/>                                                                                       
                                                    <h:inputText value="#{managedModeReglement.mode.infos.channelUserMsisdn}" disabled="#{managedModeReglement.mode.numeroMarchand.trim().length() gt 0}" style="width: 150px">
                                                        <p:ajax global="false" />   
                                                    </h:inputText>                                                                                    
                                                    <h:inputText value="#{managedModeReglement.mode.infos.channelUserPin}" disabled="#{managedModeReglement.mode.numeroMarchand.trim().length() gt 0}" style="width: 80px;text-align: center">
                                                        <p:ajax global="false" />   
                                                    </h:inputText>                                                                                    
                                                    <h:inputText value="#{managedModeReglement.mode.infos.authorisationHeader}" disabled="#{managedModeReglement.mode.numeroMarchand.trim().length() gt 0}" style="width: 300px">
                                                        <p:ajax global="false" />   
                                                    </h:inputText>                                                                                    
                                                    <h:inputText value="#{managedModeReglement.mode.infos.merchantKey}" disabled="#{managedModeReglement.mode.numeroMarchand.trim().length() gt 0}" >
                                                        <p:ajax global="false" />   
                                                    </h:inputText>                                                                                     
                                                    <h:inputText value="#{managedModeReglement.mode.infos.currency}" disabled="#{managedModeReglement.mode.numeroMarchand.trim().length() gt 0}" style="width: 80px;text-align: center">
                                                        <p:ajax global="false" />   
                                                    </h:inputText>
                                                </h:panelGrid>
                                            </p:tab>
                                            <p:tab title="Comptes" rendered="#{managedModeReglement.mode.typeReglement eq constantes.MODE_PAIEMENT_BANQUE}">
                                                <h:panelGrid id="form-numero_banque" columns="4" styleClass="yvs_nostyle">   
                                                    <h:outputText value="Code Banque"/>     
                                                    <h:outputText value="Code Guichet"/>  
                                                    <h:outputText value="#{lab.LDB_PTT_numero}"/>  
                                                    <h:outputText value="Clé"/>     
                                                    <h:inputText value="#{managedModeReglement.mode.banque.codeBanque}" style="width: 150px;text-align: center">
                                                        <p:ajax global="false" />   
                                                    </h:inputText>                                                                                    
                                                    <h:inputText value="#{managedModeReglement.mode.banque.codeGuichet}" style="width: 150px;text-align: center">
                                                        <p:ajax global="false" />   
                                                    </h:inputText>                                                                                    
                                                    <h:inputText value="#{managedModeReglement.mode.banque.numero}" style="text-align: center">
                                                        <p:ajax global="false" />   
                                                    </h:inputText>                                                                                    
                                                    <h:inputText value="#{managedModeReglement.mode.banque.cle}" style="width: 80px;text-align: center" >
                                                        <p:ajax global="false" />   
                                                    </h:inputText>    
                                                </h:panelGrid>
                                            </p:tab>
                                        </p:tabView>
                                    </h:panelGroup>
                                    <f:facet name="footer">                                            
                                        <span>Description</span>
                                        <h:inputTextarea value="#{managedModeReglement.mode.description}" rows="3" style="width: 100%"/>
                                    </f:facet>
                                </h:panelGrid> 
                            </div>
                            <div class="yvs_list_mode_reglement">
                                <p:dataTable value="#{managedModeReglement.modes}" var="imod" rowIndexVar="line_m" rowKey="#{imod.id}"
                                             selectionMode="single" id="table_mod_reg_actif" selection="#{managedModeReglement.modeSelect}">
                                    <p:ajax event="rowSelect" listener="#{managedModeReglement.selectOneMode}" oncomplete="collapseForm('mode_reglement')" update=":main_param_com:tabview_param_com:form_mode_paiement_vente" />
                                    <p:column headerText="N°" width="15">
                                        #{line_m+1}
                                        <h:graphicImage title="#{lab.LC_PPG_mode_defaut}" library="img"  name="bookmark.png" width="15" height="15" rendered="#{imod.defaultMode}" style="float: right"/>
                                    </p:column>
                                    <p:column headerText="#{lab.LDB_PP_mode_paiement}" width="100">#{imod.designation}</p:column>
                                    <p:column headerText="#{lab.LDB_PP_type}" width="50">
                                        <span>#{imod.typeReglement}</span>
                                    </p:column>
                                    <p:column headerText="Id" width="25" style="text-align: center">
                                        <span>#{imod.id}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.L_actif}" width="20" style="text-align: center">
                                        <h:graphicImage library="img" name="#{imod.actif?'vu.png':'vu_non.png'}" width="20" height="20" />
                                    </p:column>
                                    <p:column headerText="" width="20" style="text-align: center">
                                        <p:contextMenu for="opt_del_modeR" event="left click" style="font-size: 0.9em" styleClass="context_menu" >
                                            <p:menuitem value="#{imod.actif?'Désactiver':'Activer'}" icon="#{imod.actif?'ui-icon-circle-close':'ui-icon-circle-check'}" actionListener="#{managedModeReglement.toogleActiveOneModeReg(imod)}" /> 
                                            <p:separator />
                                            <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" actionListener="#{managedModeReglement.selectOneModeReg(imod)}" />                                             
                                        </p:contextMenu>
                                        <p:commandButton type="button" id="opt_del_modeR" icon="ui-icon-gear" style="width: 22px; height: 22px"/>
                                    </p:column>

                                    <p:column  width="15" style="text-align: center">
                                        <f:facet name="header">
                                            <h:selectBooleanCheckbox styleClass="chek_all_line_modePaie" value="false" onclick="selectionAllLineTab(#{managedModeReglement.modes.size()}, 'modePaie')" />
                                        </f:facet>
                                        <h:selectBooleanCheckbox styleClass="chek_line_modePaie" value="false"  onclick="selectionLineTab(#{line_m}, 'modePaie')"/>
                                    </p:column>
                                </p:dataTable>                                
                            </div>
                        </div>
                    </p:tab>
                    <p:tab title="#{lab.LC_PPG_type_cout}">
                        <p:outputPanel id="blog_form_type_cout_com">
                            <div style="float: left;width: 30%">
                                <h:panelGrid id="form_type_cout_com" columns="1" styleClass="yvs_table" style="width: 100%" cellpadding="0" cellspacing="0">
                                    <h:panelGroup>
                                        <span>#{lab.L_libelle} </span>             
                                        <p:selectBooleanCheckbox itemLabel="#{lab.LC_PPG_participe_ttc}" value="#{managedTypeCout.typeCout.augmentation}" style="float: right;margin-top: 2px"/>
                                    </h:panelGroup>
                                    <h:inputText value="#{managedTypeCout.typeCout.libelle}" style="width: 100%"/>
                                    <span>#{lab.LC_PPG_compte} </span>
                                    <h:panelGroup id="txt_compte_type_cout_com">
                                        <h:inputText value="#{managedTypeCout.typeCout.compte.numCompte}" style="color: #{managedTypeCout.typeCout.compte.error?'red':''};width: 35%">
                                            <p:ajax event="blur" global="false" listener="#{managedTypeCout.searchCompte()}" update="txt_compte_type_cout_com"/>
                                        </h:inputText>  
                                        <h:outputText value="#{managedTypeCout.typeCout.compte.intitule}"/>                                    
                                        <p:commandButton icon="ui-icon-note" style="float: right; width: 20px;height: 22px" title="Liste Comptes" global="false"
                                                         actionListener="#{managedTypeCout.initComptes()}" oncomplete="dlgListComptes.show()"/>
                                    </h:panelGroup>
                                    <span>#{lab.LC_PPG_point_application} </span>
                                    <h:selectOneMenu value="#{managedTypeCout.typeCout.module}" style="width: 100%" valueChangeListener="#{managedTypeCout.chooseType}">
                                        <f:selectItem itemValue="" itemLabel="--"/>
                                        <f:selectItems value="#{constantes.COUTS(constantes.MOD_COM)}" var="mol" itemValue="#{mol.value}" itemLabel="#{mol.label}"/>
                                        <p:ajax event="valueChange" global="false" update="data_type_cout_com"/>
                                    </h:selectOneMenu>
                                </h:panelGrid>
                                <div>
                                    <p:commandButton value="#{lab.L_nouveau}" update="form_type_cout_com" global="false"
                                                     actionListener="#{managedTypeCout.resetFiche()}" style="float: left"
                                                     oncomplete="collapseForm('type_cout_com')"/>
                                    <p:commandButton value="#{lab.L_enregistrer}" update="form_type_cout_com data_type_cout_com" icon="ui-icon-disk"
                                                     actionListener="#{managedTypeCout.saveNew()}" style="float: right"/>
                                </div>
                            </div>
                            <div style="margin-left:31%;width: 69%">
                                <h:inputHidden id="input_hide_type_cout_com" value="#{managedTypeCout.tabIds}"/>
                                <p:dataTable id="data_type_cout_com" value="#{managedTypeCout.types}" var="typC"
                                             rowKey="#{typC.id}" rowIndexVar="modeIdx" selectionMode="single">
                                    <p:ajax event="rowSelect" global="false" listener="#{managedTypeCout.loadOnView}" update=":main_param_com:tabview_param_com:form_type_cout_com"/>
                                    <p:ajax event="rowUnselect" global="false" listener="#{managedTypeCout.unLoadOnView}" update=":main_param_com:tabview_param_com:form_type_cout_com"/>
                                    <p:column width="20" headerText="N°">
                                        <h:graphicImage library="img" name="redo.png" width="15" height="15" rendered="#{typC.new_}"/>
                                        <span>#{modeIdx+1}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.LC_PPG_valeur}">
                                        <span>#{typC.libelle}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.LC_PPG_compte}">
                                        <span title="#{typC.compte.intitule}">#{typC.compte.numCompte}</span>
                                    </p:column>
                                    <p:column headerText="#{lab.LC_PPG_appli_sur}">
                                        <span>#{managedTypeCout.giveNameCouts(typC.moduleCout)}</span>
                                    </p:column>
                                    <p:column style="width: 7%;text-align: center">
                                        <h:graphicImage title="#{typC.augmentation?'Particlpe':'Ne participe pas'} au TTC" library="img" name="#{typC.augmentation?'vu.png':'vu_non.png'}" width="15" height="15"/>                                                        
                                    </p:column>
                                    <p:column width="20" style="text-align: center">                                          
                                        <p:contextMenu for="btn_option_type_cout_com" event="left click" style="font-size: 0.8em">
                                            <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" global="false" actionListener="#{managedTypeCout.deleteBean_(typC)}" oncomplete="dlgConfirmDeleteTypeCout_.show()"/>
                                        </p:contextMenu>                           
                                        <p:commandButton icon="ui-icon-gear" style="width: 22px; height: 22px" id="btn_option_type_cout_com" type="button"/>
                                    </p:column> 
                                    <p:column width="20" style="text-align: center" rendered="false">
                                        <f:facet name="header">
                                            <h:selectBooleanCheckbox styleClass="chek_all_line_type_cout_com" value="false"
                                                                     onclick="selectionAllLineTab(#{managedTypeCout.types.size()}, 'type_cout_com')">
                                            </h:selectBooleanCheckbox>
                                        </f:facet>
                                        <h:selectBooleanCheckbox  value="#{typC.selectActif}" styleClass="chek_line_type_cout_com" 
                                                                  onclick="selectionLineTab(#{typC.id}, 'type_cout_com')">
                                        </h:selectBooleanCheckbox>
                                    </p:column>
                                </p:dataTable>
                                <p:commandButton value="#{lab.L_supprimer}" id="delete_type_cout_com" global="false" rendered="false"
                                                 onclick="dlgConfirmDeleteMode.show()" style="float: right"/>
                            </div>
                        </p:outputPanel>
                        <div style="clear: both"/>
                    </p:tab>
                    <p:tab title="#{lab.LC_PPG_periode_objectif}">
                        <p:outputPanel id="blog_form_periode_objectif">
                            <h:panelGrid id="form_main_period_objectifV" columns="5" cellpadding="0" cellspacing="0">
                                <h:outputText value=""/>
                                <h:outputText value="#{lab.LDB_PF_reference}"/>
                                <h:outputText value="#{lab.L_debut}"/>
                                <h:outputText value="#{lab.L_fin}"/>
                                <h:outputText value=""/>
                                <p:selectBooleanCheckbox value="#{managedPeriodeObjectif.periode.periodMonth}" label="Période mensuelle"
                                                         style="float: left;margin-right: 5px">
                                    <p:ajax global="false" update="zone_pe_ref_obj" />
                                </p:selectBooleanCheckbox>                              
                                <h:inputText id="zone_pe_ref_obj" value="#{managedPeriodeObjectif.periode.reference}" disabled="#{managedPeriodeObjectif.periode.periodMonth}" style="width: 150px" title="Définir une référence"/>
                                <p:calendar size="8" pattern="dd-MM-yyyy" navigator="true" value="#{managedPeriodeObjectif.periode.debut}" />                    
                                <p:calendar size="8" pattern="dd-MM-yyyy" navigator="true" value="#{managedPeriodeObjectif.periode.fin}" /> 
                                <p:commandButton value="#{lab.L_enregistrer}" update="form_main_period_objectifV table_periodes_objectifVente" icon="ui-icon-disk"
                                                 actionListener="#{managedPeriodeObjectif.saveNew()}" style="float: right"/>
                            </h:panelGrid>
                            <h:inputHidden id="input_hide_periode_objectif" value="#{managedPeriodeObjectif.tabIds}"/>
                            <p:dataTable id="table_periodes_objectifVente" value="#{managedPeriodeObjectif.periodes}" var="per"
                                         rowKey="#{per.id}" rowIndexVar="pIdx" selectionMode="single">
                                <p:ajax event="rowSelect" global="false" listener="#{managedPeriodeObjectif.loadOnView}" update=":main_param_com:tabview_param_com:form_main_period_objectifV"/>
                                <p:ajax event="rowUnselect" global="false" listener="#{managedPeriodeObjectif.unLoadOnView}" update=":main_param_com:tabview_param_com:form_main_period_objectifV"/>
                                <p:column width="20" headerText="N°">
                                    <h:graphicImage library="img" name="redo.png" width="15" height="15" rendered="#{per.new_}"/>
                                    <span>#{pIdx+1}</span>
                                </p:column>
                                <p:column headerText="#{lab.LDB_PF_reference}">
                                    <span>#{per.codeRef}</span>
                                </p:column>
                                <p:column headerText="#{lab.LC_POV_periodes}">
                                    <h:outputText value="#{per.dateDebut}" converter="DATE"/>
                                    <p:spacer style="background: black;margin-left: 5px;margin-right: 5px" width="5"/>
                                    <h:outputText value="#{per.dateFin}" converter="DATE"/>
                                </p:column>
                                <p:column width="20" style="text-align: center">                                          
                                    <p:contextMenu for="btn_option_periode_objectif" event="left click" style="font-size: 0.8em">
                                        <p:menuitem value="#{lab.L_supprimer}" icon="ui-icon-trash" global="false" actionListener="#{managedPeriodeObjectif.deleteBean_(per)}" oncomplete="dlgConfirmDeletePeriodeObjectif_.show()"/>
                                    </p:contextMenu>                           
                                    <p:commandButton icon="ui-icon-gear" style="width: 22px; height: 22px" id="btn_option_periode_objectif" type="button"/>
                                </p:column> 
                                <p:column width="20" style="text-align: center" rendered="false">
                                    <f:facet name="header">
                                        <h:selectBooleanCheckbox styleClass="chek_all_line_periode_objectif" value="false"
                                                                 onclick="selectionAllLineTab(#{managedPeriodeObjectif.periodes.size()}, 'periode_objectif')">
                                        </h:selectBooleanCheckbox>
                                    </f:facet>
                                    <h:selectBooleanCheckbox  value="#{per.select}" styleClass="chek_line_periode_objectif" 
                                                              onclick="selectionLineTab(#{per.id}, 'periode_objectif')">
                                    </h:selectBooleanCheckbox>
                                </p:column>
                            </p:dataTable>
                            <p:outputPanel autoUpdate="true" style="float: right" layout="block">
                                <p:commandButton actionListener="#{managedPeriodeObjectif.loadAllPeriodeObjectif(false,true)}" global="false" update="table_periodes_objectifVente" icon="ui-icon-circle-triangle-w" disabled="#{managedPeriodeObjectif.paginator.disPrev}"/>
                                <p:outputPanel ><p:outputLabel value="#{managedPeriodeObjectif.currentPage}/#{managedPeriodeObjectif.paginator.nbPage}" style="margin-top: 15px; font-size: 0.8em; font-weight: bold" /></p:outputPanel>
                                <p:commandButton actionListener="#{managedPeriodeObjectif.loadAllPeriodeObjectif(true, true)}" global="false" update="table_periodes_objectifVente" icon="ui-icon-circle-triangle-e" disabled="#{managedPeriodeObjectif.paginator.disNext}"/>
                                <p:selectOneMenu value="#{managedPeriodeObjectif.nbMax}" label="#{lab.L_nombre_max_resultat}" valueChangeListener="#{managedPeriodeObjectif.choosePaginator}" style="float: right; font-size: 0.9em;margin-top: 3px;min-width: 50px">
                                    <f:selectItems value="#{managedPeriodeObjectif.paginations}"/>
                                    <p:ajax event="valueChange" global="false" update="table_periodes_objectifVente"/>
                                </p:selectOneMenu>
                            </p:outputPanel>
                        </p:outputPanel>
                        <div style="clear: both"/>
                    </p:tab>
                </p:tabView>
            </div>
        </h:form>
    </ui:define>
</ui:composition>

