<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"    
                xmlns:p="http://primefaces.org/ui" 
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:pretty="http://ocpsoft.com/prettyfaces"
                template="./../../WEB-INF/template/template.xhtml"> 
    <ui:define name="breadcumb">
        #{navigations.naviguationModule(navigations.getNameModule('modRh'), 'modRh', true)}
    </ui:define>
    <ui:define name="contents">
        #{managedAccueil.loadParametreGrh()}
        <h:form prependId="false" > 
            #{loggin.saveDataNavigation('Accueil RH')}
            <ul class="blocMen" >                
                <div style="width: 33%">
                    <p:outputPanel style="width: 95%" styleClass="bloc_smenu"
                                   rendered="#{accesPage.grh_param_ or accesPage.grh_cat_ or accesPage.grh_conv_ or  accesPage.grh_jr_ferier_ or accesPage.grh_param_tache_ 
                                               or accesPage.grh_type_chomag_ or accesPage.grh_param_sanct_}">
                        <h:panelGroup rendered="#{constantes.USE_PRETTY}">
                            <h4>Paramétrage &amp; Données de bases</h4>
                            <pretty:link rendered="#{accesPage.grh_param_}" mappingId="smenParamGeneral">
                                <span>Paramètres généraux</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_cat_}" mappingId="smenCategorie">
                                <span>Catégories et Echelons</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_conv_}" mappingId="smenConvesionCollective">
                                <span>Convention collective</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_jr_ferier_}" mappingId="smenJourFerie">
                                <span>Jours Fériés</span>
                            </pretty:link>
                            <pretty:link rendered="#{true}" mappingId="smenTache">
                                <span>Tâches / objectifs</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_param_sanct_}" mappingId="smenParamSanction">
                                <span>Sanctions</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_departm_}" mappingId="smenGrhDepartement">
                                <span>Départements</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_post_}" mappingId="smenposteDeTravail">
                                <span>Postes de travail</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_tache_emp_}" mappingId="smenTacheEmps">
                                <span>Tâches</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_param_assuranc_}" mappingId="smenAssureur">
                                <span>Assureurs &amp; type assurance</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_param_entretien_}" mappingId="smenQuestionnaire">
                                <span>Entretiens</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_empl_}" mappingId="smenEmploye">
                                <span>Employés</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_contrat_}" mappingId="smenContratEmps">
                                <span>Contrats</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_regl_sal_}" mappingId="smenRegleSalaire">
                                <span>Règles de salaires</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_struct_sal}" mappingId="smenStructureSalaire">
                                <span>Structure de salaires</span>
                            </pretty:link>
                        </h:panelGroup>        
                        <h:panelGroup rendered="#{!constantes.USE_PRETTY}">
                            <h4>Paramétrage &amp; Données de bases</h4>
                            <p:commandLink value="Paramètres généraux" rendered="#{accesPage.grh_param_}"
                                           actionListener="#{navigations.naviguationApps('Paramétrage général','modRh', 'smenParamGeneral', true)}"/>
                            <p:commandLink value="Catégories et Echelons"  rendered="#{accesPage.grh_cat_}"
                                           actionListener="#{navigations.naviguationApps('Catégorie professionnelle','modRh', 'smenCategorie', true)}"/>
                            <p:commandLink value="Convention collective" rendered="#{accesPage.grh_conv_}"
                                           actionListener="#{navigations.naviguationApps('Convention collective','modRh', 'smenConvesionCollective', true)}"/>
                            <p:commandLink value="Jours Fériés" rendered="#{accesPage.grh_jr_ferier_}"
                                           actionListener="#{navigations.naviguationApps('Jours fériés','modRh', 'smenJourFerie', true)}"/>
                            <p:commandLink value="Tâches / objectifs" 
                                           actionListener="#{navigations.naviguationApps('Tâches - objectifs','modRh', 'smenTache', true)}"/>     
                            <p:commandLink value="Sanctions" rendered="#{accesPage.grh_param_sanct_}"
                                           actionListener="#{navigations.naviguationApps('Parametrage sanction','modRh', 'smenParamSanction', true)}"/> 
                            <p:commandLink value="Départements" rendered="#{accesPage.grh_departm_}"
                                           actionListener="#{navigations.naviguationApps('Départements','modRh', 'smenDepartement', true)}"/>
                            <p:commandLink value="Postes de travail" rendered="#{accesPage.grh_post_}"
                                           actionListener="#{navigations.naviguationApps('Poste de tavail','modRh', 'smenposteDeTravail', true)}"/>                                                                                                                                                                                                 
                            <p:commandLink value="Tâches" rendered="#{accesPage.grh_tache_emp_}"
                                           actionListener="#{navigations.naviguationApps('Objectifs','modRh', 'smenTacheEmps', true)}"/>
                            <p:commandLink value="Assureurs &amp; type assurance" rendered="#{accesPage.grh_param_assuranc_}"
                                           actionListener="#{navigations.naviguationApps('Assureurs &amp; type assurance','modRh', 'smenAssureur', true)}"/>
                            <p:commandLink value="Entretiens" rendered="#{accesPage.grh_param_entretien_}"
                                           actionListener="#{navigations.naviguationApps('Entretiens d\'Embauche','modRh', 'smenQuestionnaire', true)}"/>                        
                            <p:commandLink value="Employés" rendered="#{accesPage.grh_empl_}"
                                           actionListener="#{navigations.naviguationApps('Employés','modRh', 'smenEmploye', true)}"/>   
                            <p:commandLink value="Contrats" rendered="#{accesPage.grh_contrat_}"
                                           actionListener="#{navigations.naviguationApps('Contrats','modRh', 'smenContratEmps', true)}"/> 
                            <p:commandLink value="Règles de salaires" rendered="#{accesPage.grh_regl_sal_}"
                                           actionListener="#{navigations.naviguationApps('Règle de salaires','modRh', 'smenRegleSalaire', true)}"/>
                            <p:commandLink value="Structure de salaire" rendered="#{accesPage.grh_struct_sal}"
                                           actionListener="#{navigations.naviguationApps('Structure de salaire','modRh', 'smenStructureSalaire', true)}"/>
                        </h:panelGroup>        
                    </p:outputPanel>
                </div>                
                <div style="width: 33%">
                    <p:outputPanel style="width: 95%"  styleClass="bloc_smenu"
                                   rendered="#{accesPage.grh_recrut_entretien or accesPage.grh_recrut_doss_candidat}">
                        <h:panelGroup rendered="#{constantes.USE_PRETTY}">
                            <h4>Recrutement</h4> 
                            <pretty:link rendered="#{accesPage.grh_recrut_entretien}" mappingId="smenEntretien">
                                <span>Entretiens</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_recrut_doss_candidat}" mappingId="smenCandidature">
                                <span>Enregistrer un dossier de candidature</span>
                            </pretty:link>
                        </h:panelGroup>
                        <h:panelGroup rendered="#{!constantes.USE_PRETTY}">
                            <h4>Recrutement</h4> 
                            <p:commandLink value="Entretiens" rendered="#{accesPage.grh_recrut_entretien}"
                                           actionListener="#{navigations.naviguationApps('Entretiens d\'Embauche','modRh', 'smenEntretien', true)}"/>
                            <p:commandLink value="Enregistrer un dossier de candidature" rendered="#{accesPage.grh_recrut_doss_candidat}"
                                           actionListener="#{navigations.naviguationApps('Dossiers de candidature','modRh', 'smenCandidature', true)}"/>
                        </h:panelGroup>
                    </p:outputPanel> 

                    <p:outputPanel style="width: 95%" styleClass="bloc_smenu" 
                                   rendered="#{accesPage.grh_format_ or accesPage.grh_mission_ or accesPage.grh_affect_ or accesPage.grh_sanct_ or accesPage.grh_assurance_ }">
                        <h:panelGroup rendered="#{constantes.USE_PRETTY}">
                            <h4>Gestion administrative</h4>                                      
                            <pretty:link rendered="#{accesPage.grh_format_}" mappingId="smenFormation">
                                <span>Formations</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_mission_}" mappingId="smenMission">
                                <span>Missions</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_affect_}" mappingId="smenAffectation">
                                <span>Affectation</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_affect_}" mappingId="smenConventionEmp">
                                <span>Conventions Employe</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_sanct_}" mappingId="smenSanctionEmps">
                                <span>Sanction Employe</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_assurance_}" mappingId="smenAssurance">
                                <span>Assurances</span>
                            </pretty:link>
                        </h:panelGroup>    
                        <h:panelGroup rendered="#{!constantes.USE_PRETTY}">
                            <h4>Gestion administrative</h4>                                  
                            <p:commandLink value="Formations" rendered="#{accesPage.grh_format_}"
                                           actionListener="#{navigations.naviguationApps('Formations','modRh', 'smenFormation', true)}"/>
                            <p:commandLink value="Missions" rendered="#{accesPage.grh_mission_}"
                                           actionListener="#{navigations.naviguationApps('Missions','modRh', 'smenMission', true)}"/> 
                            <p:commandLink value="Affectation" rendered="#{accesPage.grh_affect_}"
                                           actionListener="#{navigations.naviguationApps('Affectations','modRh', 'smenAffectation', true)}"/>      
                            <p:commandLink value="Conventions Employe" rendered="#{accesPage.grh_affect_}"
                                           actionListener="#{navigations.naviguationApps('Conventions Employe','modRh', 'smenConventionEmp', true)}"/>  
                            <p:commandLink value="Sanction Employe" rendered="#{accesPage.grh_sanct_}"
                                           actionListener="#{navigations.naviguationApps('Sanction','modRh', 'smenSanctionEmps', true)}"/>  
                            <p:commandLink value="Assurances" rendered="#{accesPage.grh_assurance_}"
                                           actionListener="#{navigations.naviguationApps('Assurance','modRh', 'smenAssurance', true)}"/> 
                        </h:panelGroup>  
                    </p:outputPanel> 

                    <p:outputPanel style="width: 95%" styleClass="bloc_smenu"
                                   rendered="#{accesPage.grh_bull_ or accesPage.grh_typ_dep_ or accesPage.grh_not_frai_ or accesPage.grh_ges_retenu  or accesPage.grh_prelvm_ret_ }">
                        <h:panelGroup rendered="#{constantes.USE_PRETTY}">
                            <h4>Rémunération</h4>
                            <pretty:link rendered="#{accesPage.grh_bull_}" mappingId="smenBulletinS">
                                <span>Bulletins de paie</span>
                            </pretty:link>
                            <pretty:link rendered="#{false}" mappingId="smenParamNote">
                                <span>Type de depense</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_not_frai_}" mappingId="smenNoteFrais">
                                <span>Note de frais</span>
                            </pretty:link>
                            <pretty:link rendered="#{false}" mappingId="smenPlanPrelevement">
                                <span>Plan de retenue globale</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_prelvm_ret_}" mappingId="smenPrelevement">
                                <span>Retenues spécifique</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_ges_retenu}" mappingId="smengesRetenue">
                                <span>Gestion des retenues</span>
                            </pretty:link>
                        </h:panelGroup>
                        <h:panelGroup rendered="#{!constantes.USE_PRETTY}">
                            <h4>Rémunération</h4>
                            <p:commandLink value="Bulletins de paye" rendered="#{accesPage.grh_bull_}"
                                           actionListener="#{navigations.naviguationApps('Bulletins de paye','modRh', 'smenBulletinS', true)}"/> 
                            <p:commandLink value="Type de depense" rendered="false"
                                           actionListener="#{navigations.naviguationApps('Type de dépense','modRh', 'smenParamNote', true)}"/>                         
                            <p:commandLink value="Note de frais" rendered="#{accesPage.grh_not_frai_}"
                                           actionListener="#{navigations.naviguationApps('Note de frais', 'modRh', 'smenNoteFrais', true)}"/>  
                            <p:commandLink value="Plan de retenue globale" rendered="false"
                                           actionListener="#{navigations.naviguationApps('Plan de prelèvement','modRh', 'smenPlanPrelevement', true)}"/>
                            <p:commandLink value="Retenues spécifique" rendered="#{accesPage.grh_prelvm_ret_}"
                                           actionListener="#{navigations.naviguationApps('Prélèvement','modRh', 'smenPrelevement', true)}" /> 
                            <p:commandLink value="Gestion des retenues" rendered="#{accesPage.grh_ges_retenu}"
                                           actionListener="#{navigations.naviguationApps('Prélèvement','modRh', 'smengesRetenue', true)}" /> 
                        </h:panelGroup>
                    </p:outputPanel> 
                    <p:outputPanel style="width: 95%" styleClass="bloc_smenu"
                                   rendered="#{accesPage.grh_conge_ or accesPage.grh_presenc_ or accesPage.grh_chomag_}">
                        <h:panelGroup rendered="#{constantes.USE_PRETTY}">
                            <h4>Gestion des présences</h4>                            
                            <pretty:link rendered="#{accesPage.grh_planning_}" mappingId="smenPlaninTravail">
                                <span>Planning de travail</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_conge_}" mappingId="smenConge">
                                <span>Congés &amp; Permissions</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_presenc_}" mappingId="smenPresence">
                                <span>Présences</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_presenc_}" mappingId="smenPresenceSynchro">
                                <span>Synchronise Présences</span>
                            </pretty:link>
                            <pretty:link   mappingId="smenChomageEmps">
                                <span>Chomage Employes</span>
                            </pretty:link>
                        </h:panelGroup>
                        <h:panelGroup rendered="#{!constantes.USE_PRETTY}">
                            <h4>Gestion des présences</h4>
                            <p:commandLink value="Planning de travail" rendered="#{accesPage.grh_planning_}"
                                           actionListener="#{navigations.naviguationApps('Planning de travail','modRh', 'smenPlaninTravail', true)}"/>  
                            <p:commandLink value="Congés &amp; Permissions" rendered="#{accesPage.grh_conge_}"
                                           actionListener="#{navigations.naviguationApps('Congés','modRh', 'smenConge', true)}"/>                            
                            <p:commandLink  value="Présence" rendered="#{accesPage.grh_presenc_}"
                                            actionListener="#{navigations.naviguationApps('Présences','modRh', 'smenPresence', true)}"/>     
                            <p:commandLink  value="Synchronise Présences" rendered="#{accesPage.grh_presenc_}"
                                            actionListener="#{navigations.naviguationApps('Synchronise Présences','modRh', 'smenPresenceSynchro', true)}"/>     
                            <p:commandLink value="Chomage Employes" rendered="#{accesPage.grh_chomag_}"
                                           actionListener="#{navigations.naviguationApps('Chomage Employe','modRh', 'smenChomageEmps', true)}"/>  
                        </h:panelGroup>
                    </p:outputPanel>
                </div>
                <div style="width: 33%">                    
                    <p:outputPanel style="width: 95%" styleClass="bloc_smenu"
                                   rendered="#{accesPage.grh_tab_bord_ or accesPage.grh_param_stat}">
                        <h:panelGroup  rendered="#{constantes.USE_PRETTY}">
                            <h4>Statistiques</h4>                    
                            <pretty:link rendered="#{accesPage.grh_tab_bord_}" mappingId="smenStatistiqueGRH">
                                <span>Tableau de bord récapitutalif</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_tab_bord_}" mappingId="smenDashBoardGrh">
                                <span>Tableau de bord</span>
                            </pretty:link>
                            <pretty:link rendered="#{true}" mappingId="smenRapportsPaie">
                                <span>Rapports paie</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_param_stat}" mappingId="smenParamStat">
                                <span>Paramétrage Statistiques</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_tab_bord_}" mappingId="smenTbEmps">
                                <span>Tableau de bord Employé</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_tab_bord_}" mappingId="smenPrintContrat">
                                <span>Modèles de contrat</span>
                            </pretty:link>
                            <pretty:link rendered="#{accesPage.grh_tab_bord_}" mappingId="smenPrintDecisionConge">
                                <span>Modèles de décision de congé</span>
                            </pretty:link>
                        </h:panelGroup>
                        <h:panelGroup  rendered="#{!constantes.USE_PRETTY}">
                            <h4>Statistiques</h4>                    
                            <p:commandLink value="Tableau de bord récapitutalif" rendered="#{accesPage.grh_tab_bord_}"
                                           actionListener="#{navigations.naviguationApps('Tableaux de bord récapitutalif','modRh', 'smenStatistiqueGRH', true)}"/> 
                            <p:commandLink value="Tableau de bord" rendered="#{accesPage.grh_tab_bord_}"
                                           actionListener="#{navigations.naviguationApps('Tableaux de bords','modRh', 'smenDashBoardGrh', true)}"/> 
                            <p:commandLink value="Rapports Paye" 
                                           actionListener="#{navigations.naviguationApps('Rapports de la Paie','modRh', 'smenRapportsPaie', true)}"/>
                            <p:commandLink value="Paramétrage Statistiques" rendered="#{accesPage.grh_param_stat}"
                                           actionListener="#{navigations.naviguationApps('Paramétrage des statistiques','modRh', 'smenParamStat', true)}"/>                         
                            <p:commandLink value="Tableau de bord Employé" rendered="#{accesPage.grh_tab_bord_}"
                                           actionListener="#{navigations.naviguationApps('Tableau de bord Employé','modRh', 'smenTbEmps', true)}"/>     
                            <p:commandLink value="Modèles de contrat" rendered="#{accesPage.grh_tab_bord_}"
                                           actionListener="#{navigations.naviguationApps('Modèles de contrat', 'modRh', 'smenPrintContrat', true)}"/>     
                                           actionListener="#{navigations.naviguationApps('Tableau de bord Employé','modRh', 'smenTbEmps', true)}"/>     
                            <p:commandLink value="Modèles de décision de congé" rendered="#{accesPage.grh_tab_bord_}"
                                           actionListener="#{navigations.naviguationApps('Modèles de décision de congé', 'modRh', 'smenPrintDecisionConge', true)}"/>     
                        </h:panelGroup>
                    </p:outputPanel>
                </div>              
                <div style="clear: left"> </div>
                <div style="width: 100%; padding: 5px; background: #CCC">
                    <span style="display: none">#{init.employesEnconge()}</span>
                    <span style="display: none">#{init.employesMissions()}</span>   
                    <span style="float: left; color: #333; display: #{(init.nbCongeEnCours le 0)?'inline':'inline'}; color: #009999" >
                        (#{init.nbCongeEnCours})<span style="font-style: italic; font-size: 0.8em"> Employé(s)En congés</span></span>                                    
                    <span style="margin-left: 2%;float: left; color: #333; display: #{(init.nbMissionEnCours le 0)?'inline':'inline'}; color: #009999" >(#{init.nbMissionEnCours})<span style="font-style: italic; font-size: 0.8em"> Employé(s)En mission</span></span>                                                                                                                
                </div>
            </ul>                
        </h:form>       
    </ui:define> 
</ui:composition>