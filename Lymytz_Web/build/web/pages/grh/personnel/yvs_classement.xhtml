<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="./../../../WEB-INF/template/template_page.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"       
                xmlns:p="http://primefaces.org/ui"  
                xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:define name="headPage">
        <h:form prependId="false"> 
            <h:panelGrid columns="2" style="float: left" rendered="#{managedAssurance.selectBilan}">
                <p:commandButton value="Modifier" actionListener="#{managedAssurance.checkVueDlgBilan()}" rendered="#{managedAssurance.optionUpdateBilan}"/>
                <p:splitButton value="Autres options">
                    <p:menuitem value="Supprimer" onclick="dlgConfirmDeleteB.show()"/>
                </p:splitButton>
            </h:panelGrid>
            <h:panelGrid columns="2" style="float: left" rendered="#{!managedAssurance.vueListeBilan}">
                <p:commandButton value="Enregistrer" actionListener="#{managedAssurance.saveNewBilan()}"/>
                <p:commandButton value="Nouveau" actionListener="#{managedAssurance.resetFicheBilan()}"/>
            </h:panelGrid>
            <h:panelGrid columns="1" style="float: right">
                <p:commandButton value="#{(managedAssurance.vueListeBilan)?'Creation':'Liste'}" update="@this"
                                 actionListener="#{managedAssurance.changeVueDlgBilan()}"/>
            </h:panelGrid>
            <div style="clear: right"/>
        </h:form>
    </ui:define>
    <ui:define name="restPage">
        <h:form prependId="false">
            <p:confirmDialog hideEffect="explode" widgetVar="dlgConfirmDelete" closeOnEscape="true"
                             message="Êtes-vous sûr de vouloir supprimer?">
                <p:commandButton value="Oui" actionListener="#{managedAgence.deleteBean()}" oncomplete="dlgConfirmDelete.hide()"/>
                <p:commandButton value="Non" onclick="dlgConfirmDelete.hide()"/>
            </p:confirmDialog>
        </h:form>
        <h:form prependId="false">
            <p:outputPanel rendered="#{managedAssurance.vueListeBilan}">

            </p:outputPanel>
            <p:outputPanel rendered="#{!managedAssurance.vueListeBilan}">

            </p:outputPanel>
        </h:form>
    </ui:define>
</ui:composition>
