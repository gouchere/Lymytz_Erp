<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="./../../WEB-INF/template/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core">
    <ui:define name="breadcumb">
        #{navigations.naviguationApps('Voir les logs','modParam', 'smenViewLog', true,managedAccueil)}
    </ui:define>  
    <ui:define name="contents">
        #{managedAccueil.loadPath()}
        <h:outputScript library="js/donne_de_base" name="param_db.js" />
        <script type="text/javascript">
            $(function() {
                collapseForm('warning');
//                $('body').find('.part_scroll').height($('body').height() - $('body').find('.part_fix').height() - 180);
                $('body').find('.part_scroll').height($('body').height() - $('body').find('#top').height() - $('body').find('.zone_find').height() - $('body').find('.part_fix').height() - $('body').find('#bottom').height() - 30);
            });
        </script> 
        <h:form prependId="false" id="main_log">
            <div class="part_fix" style="height: 50px!important">
                <h:panelGrid columns="1" style="width: 100%" cellpadding="0" cellspacing="0">
                    <span>Chemin : </span>
                    <h:panelGroup>
                        <h:inputText value="#{managedAccueil.path}" style="width: 95%">
                            <p:ajax event="valueChange" global="false"/>
                        </h:inputText> 
                        <p:commandButton value="Lire" actionListener="#{managedAccueil.readFileLog()}" style="margin-left: 5px;background: white!important"/>
                    </h:panelGroup>
                </h:panelGrid>  
            </div>
            <div class="part_scroll">
                <h:inputTextarea id="txt_logs" value="#{managedAccueil.logs}" style="width: 100%;height: 100%" readonly="true"/>  
            </div>
        </h:form>
    </ui:define>
</ui:composition>