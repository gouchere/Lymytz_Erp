<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core">    
    <div>          
        <p:dataTable value="#{managedWarning.articles}" var="art" rowKey="#{art.id}" rowIndexVar="artLine" selectionMode="single" liveScroll="true" scrollRows="100"
                     lazy="true" scrollable="true" scrollHeight="550">
            <f:facet name="header">
                <div align="left" style="font-weight: bold">
                    #{managedWarning.warning.description}
                </div>
            </f:facet>
            <p:ajax event="rowSelect" listener="#{managedWarning.loadOnView}" />
            <p:column headerText="NÂ°" width="20" style="text-align: center">                                
                <h:outputText value="#{Marticle.displayId?art.id:artLine+1}" />
            </p:column>                                                        
            <p:column headerText="#{lab.LDB_PA_reference}" width="120" sortBy="#{art.refArt}">
                #{art.refArt}                                                                             
            </p:column>
            <p:column  headerText="#{lab.LDB_PA_designation}" width="150" sortBy="#{art.designation}"> 
                #{art.designation}
            </p:column>
            <p:column headerText="#{lab.LDB_PA_categorie}" width="100" style="text-align: left">
                #{art.categorie}
            </p:column>
            <p:column  headerText="#{lab.LDB_PA_famille}"  width="100" style="text-align: left" sortBy="#{art.famille.designation}">
                #{art.famille.designation}
            </p:column>   
            <p:column headerText="#{lab.LDB_PA_type}"  width="80"  style="text-align: left">
                <h:outputText value="#{art.typeService eq constantes.SERVICE_RESTAURANT? 'RESTAURANT': art.typeService eq constantes.SERVICE_LOGEMENT? 'LOGEMENT': 'COMMERCE GENERAL'}"/>
            </p:column>                                                                                     
            <p:column  headerText="#{lab.LDB_PA_classes}"  width="100" style="text-align: left">
                #{art.classe1.designation}
            </p:column>                                                                                        
            <p:column headerText="#{lab.L_actif}"  width="20" style="text-align: center">
                <h:graphicImage library="img" name="#{(art.actif)?'vu.png':'vu_non.png'}" width="10" height="10" title="#{(art.actif)?'Actif':'Innactif'}"/>
            </p:column>
        </p:dataTable>    
    </div>
</ui:composition>

