<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core">    
    <div>          
        <p:dataTable value="#{managedWarning.caisses}" var="icaiss" rowKey="#{icaiss.id}" rowIndexVar="line_c"  selectionMode="single"
                     paginator="true" rows="50" paginatorAlwaysVisible="false">
            <f:facet name="header">
                <div align="left" style="font-weight: bold">
                    #{managedWarning.warning.description}
                </div>
            </f:facet>
            <p:ajax event="rowSelect"  listener="#{managedWarning.loadOnView}"/>                                
            <p:column headerText="NÂ°" width="20" style="text-align: center">
                #{line_c+1}
            </p:column>
            <p:column headerText="#{lab.LDB_PCB_code}" width="100" style="font-weight: bold">
                #{icaiss.code}
                <h:graphicImage title="#{lab.LDB_PCB_caisse_defaut}" library="img"  name="bookmark.png" width="15" height="15" rendered="#{icaiss.defaultCaisse}" style="float: right"/>
            </p:column>
            <p:column headerText="#{lab.LDB_PCB_intitule}" width="100" >
                #{icaiss.intitule}
            </p:column>
            <p:column headerText="#{lab.LDB_PCB_caissier}" width="100" >
                #{icaiss.caissier.nomUsers}
            </p:column>
            <p:column headerText="#{lab.LDB_PCB_journal}" width="100" >
                #{icaiss.journal.intitule}
            </p:column>
            <p:column headerText="#{lab.LDB_PCB_compte_g}" width="100" >
                #{icaiss.compte.numCompte}
            </p:column>
            <p:column headerText="#{lab.LDB_PCB_parent}" width="100" style="text-align: center">
                <h:outputText value="#{icaiss.parent.intitule}" />
            </p:column>
            <p:column headerText="#{lab.L_type}" width="100" style="text-align: center">
                <h:outputText value="#{icaiss.typeCaisse}" />
            </p:column>
            <p:column headerText="#{lab.LDB_PCB_sc}" width="20" style="text-align: center">
                <h:outputText value="#{icaiss.subCaisses.size()}" />
            </p:column>
            <p:column headerText="#{lab.LDB_PD_agence}" width="200" >
                #{icaiss.journal.agence.designation}
            </p:column>
            <p:column headerText="#{lab.LDB_PCB_princ}" width="20" style="text-align: center">
                <h:graphicImage library="img" name="#{icaiss.principal?'vu.png':'vu_non.png'}" width="15" height="15" />
            </p:column>
            <p:column headerText="#{lab.L_actif}" width="20" style="text-align: center">
                <h:graphicImage library="img" name="#{icaiss.actif?'vu.png':'vu_non.png'}" width="15" height="15" />
            </p:column>
        </p:dataTable>   
    </div>
</ui:composition>

