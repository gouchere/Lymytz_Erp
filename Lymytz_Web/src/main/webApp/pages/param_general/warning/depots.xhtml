<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core">    
    <div>          
        <p:dataTable value="#{managedWarning.depots}" var="dep" rowKey="#{dep.id}" rowIndexVar="depIdx"  selectionMode="single"
                     paginator="true" rows="50" paginatorAlwaysVisible="false">
            <f:facet name="header">
                <div align="left" style="font-weight: bold">
                    #{managedWarning.warning.description}
                </div>
            </f:facet>
            <p:ajax event="rowSelect"  listener="#{managedWarning.loadOnView}"/>                                
            <p:column headerText="NÂ°" style="width: 5%;text-align: center">
                <span>#{depIdx+1}</span>
            </p:column>
            <p:column headerText="#{lab.LDB_PD_code}" style="width: 12%">
                <span>#{dep.code}</span>
            </p:column>
            <p:column headerText="#{lab.LDB_PD_abbreviation}" style="width: 12%">
                <span>#{dep.abbreviation}</span>
            </p:column>
            <p:column headerText="#{lab.LDB_PD_designation}">
                <span>#{dep.designation}</span>
            </p:column>
            <p:column headerText="#{lab.LDB_PD_agence}">
                <span>#{dep.agence.designation}</span>
            </p:column>
            <p:column headerText="#{lab.LDB_PD_operations}" style="text-align: center">
                <h:panelGroup>
                    <h:graphicImage library="img" name="#{(dep.opProduction)?'P_on.png':'P_off.png'}" width="16" height="16" title="#{lab.LDB_PD_production}"/>
                    <p:spacer width="5"/>
                    <h:graphicImage library="img" name="#{(dep.opAchat)?'A_on.png':'A_off.png'}" width="16" height="16" title="#{lab.LDB_PD_achat}"/>
                    <p:spacer width="5"/>
                    <h:graphicImage library="img" name="#{(dep.opVente)?'V_on.png':'V_off.png'}" width="16" height="16" title="#{lab.LDB_PD_vente}"/>
                    <p:spacer width="5"/>
                    <h:graphicImage library="img" name="#{(dep.opTransit)?'T_on.png':'T_off.png'}" width="16" height="16" title="#{lab.LDB_PD_transit}"/>
                    <p:spacer width="5"/>
                    <h:graphicImage library="img" name="#{(dep.opRetour)?'R_on.png':'R_off.png'}" width="16" height="16" title="#{lab.LDB_PD_retour}"/>
                    <p:spacer width="5"/>
                    <h:graphicImage library="img" name="#{(dep.opTechnique)?'E_on.png':'E_off.png'}" width="16" height="16" title="#{lab.LDB_PD_technique}"/>
                    <p:spacer width="5"/>
                    <h:graphicImage library="img" name="#{(dep.opReserv)?'S_on.png':'S_off.png'}" width="16" height="16" title="#{lab.LDB_PD_reservation_sortie}"/>
                </h:panelGroup>
            </p:column>                                                                                       
            <p:column  width="20" style="text-align: center" headerText="#{lab.L_actif}">
                <h:graphicImage library="img" name="#{(dep.actif)?'vu.png':'erase-128.png'}" width="10" height="10"/>
            </p:column>
        </p:dataTable>   
    </div>
</ui:composition>

