
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"> 
    <div>
        <p:dataTable value="#{managedSaisiePiece.contentCompta}" var="icc" id="table_pptes_compta">
            <p:columnGroup type="header">
                <p:row>
                    <p:column headerText="#{lab.L_date}" />
                    <p:column headerText="#{lab.LC_PFV_compte}" />
                    <p:column headerText="#{lab.L_tiers}" />
                    <p:column headerText="#{lab.LC_PFV_debit}" />
                    <p:column headerText="#{lab.LC_PFV_credit}" />
                </p:row>
            </p:columnGroup>
            <p:subTable value="#{icc.contentsPiece}" var="ic">
                <f:facet name="header">#{icc.numPiece}</f:facet>
                <p:column ><h:outputText value="#{icc.datePiece}" converter="DATE" /></p:column>
                <p:column >#{ic.compteGeneral.numCompte}</p:column>
                <p:column >
                    <h:outputText value="#{managedFactureVenteV2.nameTiers(ic.compteTiers, ic.tableTiers, 'R')}" title="#{managedFactureVenteV2.nameTiers(ic.compteTiers, ic.tableTiers, 'N')}" />
                </p:column>
                <p:column >   
                    <h:outputText value="#{ic.debit}" converter="DNS" />
                    <h:panelGroup style="float: right" rendered="#{ic.debit gt 0}">
                        <h:outputText title="#{lab.LCF_PLC_lettrage}" value="#{ic.lettrage}" rendered="#{ic.lettrage != null ? ic.lettrage ne '': false}" styleClass="style_statut"/>
                    </h:panelGroup>  
                </p:column>
                <p:column >     
                    <h:outputText value="#{ic.credit}" converter="DNS" />
                    <h:panelGroup style="float: right" rendered="#{ic.credit gt 0}">
                        <h:outputText title="#{lab.LCF_PLC_lettrage}" value="#{ic.lettrage}" rendered="#{ic.lettrage != null ? ic.lettrage ne '': false}" styleClass="style_statut"/>
                    </h:panelGroup>
                </p:column>
            </p:subTable>
        </p:dataTable>
    </div>
</ui:composition>
